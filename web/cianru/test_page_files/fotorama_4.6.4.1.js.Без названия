/*!
 * Fotorama 4.6.4.1 | http://fotorama.io/license/
 * Customized for https://cian.ru/
 */
var fotoramaVersion="4.6.4.1";!function(a,b,c,d,e){"use strict";function f(){}function g(a,b,c){return Math.max(isNaN(b)?-(1/0):b,Math.min(isNaN(c)?1/0:c,a))}function h(a){return a.match(/ma/)&&a.match(/-?\d+(?!d)/g)[a.match(/3d/)?12:4]}function i(a){return Hb?+h(a.css("transform")):+a.css("left").replace("px","")}function j(a){var b={};return Hb?b.transform="translate3d("+a+"px,0,0)":b.left=a,b}function k(a){return{"transition-duration":a+"ms"}}function l(a,b){return isNaN(a)?b:a}function m(a,b){return l(+String(a).replace(b||"px",""))}function n(a){return/%$/.test(a)?m(a,"%"):e}function o(a,b){return l(n(a)/100*b,m(a))}function p(a){return(!isNaN(m(a))||!isNaN(m(a,"%")))&&a}function q(a,b,c,d){return(a-(d||0))*(b+(c||0))}function r(a,b,c,d){return-Math.round(a/(b+(c||0))-(d||0))}function s(a){var b=a.data();if(!b.tEnd){S(a[0],{WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",msTransition:"MSTransitionEnd",transition:"transitionend"}[tb.prefixed("transition")],function(a){b.tProp&&a.propertyName.match(b.tProp)&&b.onEndFn()}),b.tEnd=!0}}function t(a,b,c,d){var e,f=a.data();f&&(f.onEndFn=function(){e||(e=!0,clearTimeout(f.tT),c())},f.tProp=b,clearTimeout(f.tT),f.tT=setTimeout(function(){f.onEndFn()},1.5*d),s(a))}function u(a,b){if(a.length){var c=a.data();Hb?(a.css(k(0)),c.onEndFn=f,clearTimeout(c.tT)):a.stop();var d=v(b,function(){return i(a)});return a.css(j(d)),d}}function v(){for(var a,b=0,c=arguments.length;b<c&&"number"!=typeof(a=b?arguments[b]():arguments[b]);b++);return a}function w(a,b){return Math.round(a+(b-a)/1.5)}function x(){return x.p=x.p||("https:"===c.protocol?"https://":"http://"),x.p}function y(a){var c=b.createElement("a");return c.href=a,c}function z(a,b){if("string"!=typeof a)return a;a=y(a);var c,d;if(a.host.match(/youtube\.com/)&&a.search){if(c=a.search.split("v=")[1]){var e=c.indexOf("&");e!==-1&&(c=c.substring(0,e)),d="youtube"}}else a.host.match(/youtube\.com|youtu\.be/)?(c=a.pathname.replace(/^\/(embed\/|v\/)?/,"").replace(/\/.*/,""),d="youtube"):a.host.match(/vimeo\.com/)&&(d="vimeo",c=a.pathname.replace(/^\/(video\/)?/,"").replace(/\/.*/,""));return c&&d||!b||(c=a.href,d="custom"),!!c&&{id:c,type:d,s:a.search.replace(/^\?/,""),p:x()}}function A(a,b,c){var e,f,g=a.video;return"youtube"===g.type?(f=x()+"img.youtube.com/vi/"+g.id+"/default.jpg",e=f.replace(/\/default.jpg$/,"/hqdefault.jpg"),a.thumbsReady=!0):"vimeo"===g.type?d.ajax({url:x()+"vimeo.com/api/v2/video/"+g.id+".json",dataType:"jsonp",success:function(d){a.thumbsReady=!0,B(b,{img:d[0].thumbnail_large,thumb:d[0].thumbnail_small},a.i,c)}}):a.thumbsReady=!0,{img:e,thumb:f}}function B(a,b,c,e){for(var f=0,g=a.length;f<g;f++){var h=a[f];if(h.i===c&&h.thumbsReady){var i={videoReady:!0};i[Vb]=i[Xb]=i[Wb]=!1,e.splice(f,1,d.extend({},h,i,b));break}}}function C(a){function b(a,b,e){var f=a.children("img").eq(0),g=a.attr("href"),h=a.attr("src"),i=f.attr("src"),j=b.video,k=!!e&&z(g,j===!0);k?g=!1:k=j,c(a,f,d.extend(b,{video:k,img:b.img||g||h||i,thumb:b.thumb||i||h||g}))}function c(a,b,c){var e=c.thumb&&c.img!==c.thumb,f=m(c.width||a.attr("width")),g=m(c.height||a.attr("height")),h=a.attr("alt"),i=a.attr("title");h&&d.extend(c,{alt:h}),i&&d.extend(c,{title:i}),d.extend(c,{width:f,height:g,thumbratio:R(c.thumbratio||m(c.thumbwidth||b&&b.attr("width")||e||f)/m(c.thumbheight||b&&b.attr("height")||e||g))})}var e=[];return a.children().each(function(){var a=d(this),f=Q(d.extend(a.data(),{id:a.attr("id")}));if(a.is("a, img"))b(a,f,!0);else{if(a.is(":empty"))return;c(a,null,d.extend(f,{html:this,_html:a.html()}))}e.push(f)}),e}function D(a){return 0===a.offsetWidth&&0===a.offsetHeight}function E(a){return!d.contains(b.documentElement,a)}function F(a,b,c,d){return F.i||(F.i=1,F.ii=[!0]),d=d||F.i,void 0===F.ii[d]&&(F.ii[d]=!0),a()?b():F.ii[d]&&setTimeout(function(){F.ii[d]&&F(a,b,c,d)},c||100),F.i++}function G(a){c.replace(c.protocol+"//"+c.host+c.pathname.replace(/^\/?/,"/")+c.search+"#"+a)}function H(a,b,c,d){var e=a.data(),f=e.measures;if(f&&(!e.l||e.l.W!==f.width||e.l.H!==f.height||e.l.r!==f.ratio||e.l.w!==b.w||e.l.h!==b.h||e.l.m!==c||e.l.p!==d)){var h=f.width,i=f.height,j=b.w/b.h,k=f.ratio>=j,l="scaledown"===c,m="contain"===c,n="cover"===c,p=Z(d);k&&(l||m)||!k&&n?(h=g(b.w,0,l?h:1/0),i=h/f.ratio):(k&&n||!k&&(l||m))&&(i=g(b.h,0,l?i:1/0),h=i*f.ratio),a.css({width:h,height:i,left:o(p.x,b.w-h),top:o(p.y,b.h-i)}),e.l={W:f.width,H:f.height,r:f.ratio,w:b.w,h:b.h,m:c,p:d}}return!0}function I(a,b){var c=a[0];c.styleSheet?c.styleSheet.cssText=b:a.html(b)}function J(a,b,c){return b!==c&&(a<=b?"left":a>=c?"right":"left right")}function K(a,b,c,d){if(!c)return!1;if(!isNaN(a))return a-(d?0:1);for(var e,f=0,g=b.length;f<g;f++){if(b[f].id===a){e=f;break}}return e}function L(a,b,c){c=c||{},a.each(function(){var a,e=d(this),g=e.data();g.clickOn||(g.clickOn=!0,d.extend(ba(e,{onStart:function(b){a=b,(c.onStart||f).call(this,b)},onMove:c.onMove||f,onTouchEnd:c.onTouchEnd||f,onEnd:function(c){c.moved||b.call(this,a)}}),{noMove:!0}))})}function M(a,b){return'<div class="'+a+'">'+(b||"")+"</div>"}function N(a){for(var b=a.length;b;){var c=Math.floor(Math.random()*b--),d=a[b];a[b]=a[c],a[c]=d}return a}function O(a){return"[object Array]"==Object.prototype.toString.call(a)&&d.map(a,function(a){return d.extend({},a)})}function P(a,b,c){a.scrollLeft(b||0).scrollTop(c||0)}function Q(a){if(a){var b={};return d.each(a,function(a,c){b[a.toLowerCase()]=c}),b}}function R(a){if(a){var b=+a;return isNaN(b)?(b=a.split("/"),+b[0]/+b[1]||e):b}}function S(a,b,c,d){b&&(a.addEventListener?a.addEventListener(b,c,!!d):a.attachEvent("on"+b,c))}function T(a){return!!a.getAttribute("disabled")}function U(a){return{tabindex:a*-1+"",disabled:a}}function V(a,b){S(a,"keyup",function(c){T(a)||13==c.keyCode&&b.call(a,c)})}function W(a,b){S(a,"focus",a.onfocusin=function(c){b.call(a,c)},!0)}function X(a,b){a.preventDefault?a.preventDefault():a.returnValue=!1,b&&a.stopPropagation&&a.stopPropagation()}function Y(a){return a?">":"<"}function Z(a){return a=(a+"").split(/\s+/),{x:p(a[0])||$b,y:p(a[1])||$b}}function $(a,b){var c=a.data(),e=Math.round(b.pos),g=function(){c.sliding=!1,(b.onEnd||f)()};void 0!==b.overPos&&b.overPos!==b.pos&&(e=b.overPos,g=function(){$(a,d.extend({},b,{overPos:b.pos,time:Math.max(Pb,b.time/2)}))});var h=d.extend(j(e),b.width&&{width:b.width});c.sliding=!0,Hb?(a.css(d.extend(k(b.time),h)),b.time>10?t(a,"transform",g,b.time):g()):a.stop().animate(h,b.time,Zb,g)}function _(a,b,c,e,g,h){var i=void 0!==h;if(i||(g.push(arguments),Array.prototype.push.call(arguments,g.length),!(g.length>1))){a=a||d(a),b=b||d(b);var j=a[0],k=b[0],l="crossfade"===e.method,m=function(){if(!m.done){m.done=!0;var a=(i||g.shift())&&g.shift();a&&_.apply(this,a),(e.onEnd||f)(!!a)}},n=e.time/(h||1);c.removeClass(Qa+" "+Pa),a.stop().addClass(Qa),b.stop().addClass(Pa),l&&k&&a.fadeTo(0,0),a.fadeTo(l?n:0,1,l&&m),b.fadeTo(n,0,m),j&&l||k||m()}}function aa(a){var b=(a.touches||[])[0]||a;a._x=b.pageX,a._y=b.clientY,a._now=d.now()}function ba(a,c){function e(a){if(m=d(a.target),u.checked=p=q=s=!1,k||u.flow||a.touches&&a.touches.length>1||a.which>1||bc&&bc.type!==a.type&&dc||(p=c.select&&m.is(c.select,t)))return p;o="touchstart"===a.type,q=m.is("a, a *",t),n=u.control,r=u.noMove||u.noSwipe||n?16:u.snap?0:4,aa(a),l=bc=a,cc=a.type.replace(/down|start/,"move").replace(/Down/,"Move"),(c.onStart||f).call(t,a,{control:n,$target:m}),k=u.flow=!0,o&&!u.go||X(a)}function g(a){if(a.touches&&a.touches.length>1||Mb&&!a.isPrimary||cc!==a.type||!k)return k&&h(),void(c.onTouchEnd||f)();aa(a);var b=Math.abs(a._x-l._x),d=Math.abs(a._y-l._y),e=b-d,g=(u.go||u.x||e>=0)&&!u.noSwipe,i=e<0;o&&!u.checked?(k=g)&&X(a):(X(a),(c.onMove||f).call(t,a,{touch:o})),!s&&Math.sqrt(Math.pow(b,2)+Math.pow(d,2))>r&&(s=!0),u.checked=u.checked||g||i}function h(a){(c.onTouchEnd||f)();var b=k;u.control=k=!1,b&&(u.flow=!1),!b||q&&!u.checked||(a&&X(a),dc=!0,clearTimeout(ec),ec=setTimeout(function(){dc=!1},1e3),(c.onEnd||f).call(t,{moved:s,$target:m,control:n,touch:o,startEvent:l,aborted:!a||"MSPointerCancel"===a.type}))}function i(){u.flow||setTimeout(function(){u.flow=!0},10)}function j(){u.flow&&setTimeout(function(){u.flow=!1},Ob)}var k,l,m,n,o,p,q,r,s,t=a[0],u={};return Mb?(S(t,"MSPointerDown",e),S(b,"MSPointerMove",g),S(b,"MSPointerCancel",h),S(b,"MSPointerUp",h)):(S(t,"touchstart",e),S(t,"touchmove",g),S(t,"touchend",h),S(b,"touchstart",i),S(b,"touchend",j),S(b,"touchcancel",j),Db.on("scroll",j),a.on("mousedown",e),Eb.on("mousemove",g).on("mouseup",h)),a.on("click","a",function(a){u.checked&&X(a)}),u}function ca(a,b){function c(c,d){A=!0,k=l=c._x,q=c._now,p=[[q,k]],m=n=D.noMove||d?0:u(a,(b.getPos||f)()),(b.onStart||f).call(B,c)}function e(a,b){s=D.min,t=D.max,v=D.snap,x=a.altKey,A=z=!1,(y=b.control)||C.sliding||c(a)}function h(d,e){D.noSwipe||(A||c(d),l=d._x,p.push([d._now,l]),n=m-(k-l),o=J(n,s,t),n<=s?n=w(n,s):n>=t&&(n=w(n,t)),D.noMove||(a.css(j(n)),z||(z=!0,e.touch||Mb||a.addClass(db)),(b.onMove||f).call(B,d,{pos:n,edge:o})))}function i(e){if(!D.noSwipe||!e.moved){A||c(e.startEvent,!0),e.touch||Mb||a.removeClass(db),r=d.now();for(var h,i,j,k,o,q,u,w,y,z=r-Ob,C=null,E=Pb,F=b.friction,G=p.length-1;G>=0;G--){if(h=p[G][0],i=Math.abs(h-z),null===C||i<j)C=h,k=p[G][1];else if(C===z||i>j)break;j=i}u=g(n,s,t);var H=k-l,I=H>=0,J=r-C,K=J>Ob,L=!K&&n!==m&&u===n;v&&(u=g(Math[L?I?"floor":"ceil":"round"](n/v)*v,s,t),s=t=u),L&&(v||u===n)&&(y=-(H/J),E*=g(Math.abs(y),b.timeLow,b.timeHigh),o=Math.round(n+y*E/F),v||(u=o),(!I&&o>t||I&&o<s)&&(q=I?s:t,w=o-q,v||(u=q),w=g(u+.03*w,q-50,q+50),E=Math.abs((n-w)/(y/F)))),E*=x?10:1,(b.onEnd||f).call(B,d.extend(e,{moved:e.moved||K&&v,pos:n,newPos:u,overPos:w,time:E}))}}var k,l,m,n,o,p,q,r,s,t,v,x,y,z,A,B=a[0],C=a.data(),D={};return D=d.extend(ba(b.$wrap,d.extend({},b,{onStart:e,onMove:h,onEnd:i})),D)}function da(a,b){var c,e,g,h=a[0],i={prevent:{}};return S(h,Nb,function(a){var h=a.wheelDeltaY||-1*a.deltaY||0,j=a.wheelDeltaX||-1*a.deltaX||0,k=Math.abs(j)&&!Math.abs(h),l=Y(j<0),m=e===l,n=d.now(),o=n-g<Ob;e=l,g=n,k&&i.ok&&(!i.prevent[l]||c)&&(X(a,!0),c&&m&&o||(b.shift&&(c=!0,clearTimeout(i.t),i.t=setTimeout(function(){c=!1},Qb)),(b.onEnd||f)(a,b.shift?l:j)))}),i}function ea(){d.each(d.Fotorama.instances,function(a,b){b.index=a})}function fa(a){d.Fotorama.instances.push(a),ea()}function ga(a){d.Fotorama.instances.splice(a.index,1),ea()}var ha="fotorama",ia="fullscreen",ja=ha+"__wrap",ka=ja+"--css2",la=ja+"--css3",ma=ja+"--video",na=ja+"--fade",oa=ja+"--slide",pa=ja+"--no-controls",qa=ja+"--no-shadows",ra=ja+"--pan-y",sa=ja+"--rtl",ta=ja+"--only-active",ua=ja+"--no-captions",va=ja+"--toggle-arrows",wa=ha+"__stage",xa=wa+"__frame",ya=xa+"--video",za=wa+"__shaft",Aa=ha+"__grab",Ba=ha+"__pointer",Ca=ha+"__arr",Da=Ca+"--disabled",Ea=Ca+"--prev",Fa=Ca+"--next",Ga=ha+"__nav",Ha=Ga+"-wrap",Ia=Ga+"__shaft",Ja=Ga+"--dots",Ka=Ga+"--thumbs",La=Ga+"__frame",Ma=La+"--dot",Na=La+"--thumb",Oa=ha+"__fade",Pa=Oa+"-front",Qa=Oa+"-rear",Ra=ha+"__shadow",Sa=Ra+"s",Ta=Sa+"--left",Ua=Sa+"--right",Va=ha+"__active",Wa=ha+"__select",Xa=ha+"--hidden",Ya=ha+"--fullscreen",Za=ha+"__fullscreen-icon",$a=ha+"__error",_a=ha+"__loading",ab=ha+"__loaded",bb=ab+"--full",cb=ab+"--img",db=ha+"__grabbing",eb=ha+"__img",fb=eb+"--full",gb=ha+"__dot",hb=ha+"__thumb",ib=hb+"-border",jb=ha+"__html",kb=ha+"__video",lb=kb+"-play",mb=kb+"-close",nb=ha+"__caption",ob=ha+"__caption__wrap",pb=ha+"__spinner",qb='" tabindex="0" role="button',rb=d&&d.fn.jquery.split(".");if(!rb||rb[0]<1||1==rb[0]&&rb[1]<8)throw"Fotorama requires jQuery 1.8 or later and will not run without it.";var sb={},tb=function(a,b,c){function d(a){p.cssText=a}function e(a,b){return typeof a===b}function f(a,b){return!!~(""+a).indexOf(b)}function g(a,b){for(var d in a){var e=a[d];if(!f(e,"-")&&p[e]!==c)return"pfx"!=b||e}return!1}function h(a,b,d){for(var f in a){var g=b[a[f]];if(g!==c)return d===!1?a[f]:e(g,"function")?g.bind(d||b):g}return!1}function i(a,b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),f=(a+" "+s.join(d+" ")+d).split(" ");return e(b,"string")||e(b,"undefined")?g(f,b):(f=(a+" "+t.join(d+" ")+d).split(" "),h(f,b,c))}var j,k,l={},m=b.documentElement,n="modernizr",o=b.createElement(n),p=o.style,q=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),r="Webkit Moz O ms",s=r.split(" "),t=r.toLowerCase().split(" "),u={},v=[],w=v.slice,x=function(a,c,d,e){var f,g,h,i,j=b.createElement("div"),k=b.body,l=k||b.createElement("body");if(parseInt(d,10))for(;d--;)h=b.createElement("div"),h.id=e?e[d]:n+(d+1),j.appendChild(h);return f=["&#173;",'<style id="s',n,'">',a,"</style>"].join(""),j.id=n,(k?j:l).innerHTML+=f,l.appendChild(j),k||(l.style.background="",l.style.overflow="hidden",i=m.style.overflow,m.style.overflow="hidden",m.appendChild(l)),g=c(j,a),k?j.parentNode.removeChild(j):(l.parentNode.removeChild(l),m.style.overflow=i),!!g},y={}.hasOwnProperty;k=e(y,"undefined")||e(y.call,"undefined")?function(a,b){return b in a&&e(a.constructor.prototype[b],"undefined")}:function(a,b){return y.call(a,b)},Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if("function"!=typeof b)throw new TypeError;var c=w.call(arguments,1),d=function(){if(this instanceof d){var e=function(){};e.prototype=b.prototype;var f=new e,g=b.apply(f,c.concat(w.call(arguments)));return Object(g)===g?g:f}return b.apply(a,c.concat(w.call(arguments)))};return d}),u.csstransforms3d=function(){return!!i("perspective")};for(var z in u)k(u,z)&&(j=z.toLowerCase(),l[j]=u[z](),v.push((l[j]?"":"no-")+j));return l.addTest=function(a,b){if("object"==typeof a)for(var d in a)k(a,d)&&l.addTest(d,a[d]);else{if(a=a.toLowerCase(),l[a]!==c)return l;b="function"==typeof b?b():b,"undefined"!=typeof enableClasses&&enableClasses&&(m.className+=" "+(b?"":"no-")+a),l[a]=b}return l},d(""),o=null,l._version="2.6.2",l._prefixes=q,l._domPrefixes=t,l._cssomPrefixes=s,l.testProp=function(a){return g([a])},l.testAllProps=i,l.testStyles=x,l.prefixed=function(a,b,c){return b?i(a,b,c):i(a,"pfx")},l}(0,b),ub={ok:!1,is:function(){return!1},request:function(){},cancel:function(){},event:"",prefix:""},vb="webkit moz o ms khtml".split(" ");if(void 0!==b.cancelFullScreen)ub.ok=!0;else for(var wb=0,xb=vb.length;wb<xb;wb++)if(ub.prefix=vb[wb],void 0!==b[ub.prefix+"CancelFullScreen"]){ub.ok=!0;break}ub.ok&&(ub.event=ub.prefix+"fullscreenchange",ub.is=function(){switch(this.prefix){case"":return b.fullScreen;case"webkit":return b.webkitIsFullScreen;default:return b[this.prefix+"FullScreen"]}},ub.request=function(a){return""===this.prefix?a.requestFullScreen():a[this.prefix+"RequestFullScreen"]()},ub.cancel=function(a){return""===this.prefix?b.cancelFullScreen():b[this.prefix+"CancelFullScreen"]()});var yb,zb={lines:12,length:5,width:2,radius:7,corners:1,rotate:15,color:"rgba(128, 128, 128, .75)",hwaccel:!0},Ab={top:"auto",left:"auto",className:""};!function(a,c){yb=function(){function a(a,c){var d,e=b.createElement(a||"div");for(d in c)e[d]=c[d];return e}function c(a){for(var b=1,c=arguments.length;b<c;b++)a.appendChild(arguments[b]);return a}function d(a,b,c,d){var e=["opacity",b,~~(100*a),c,d].join("-"),f=.01+c/d*100,g=Math.max(1-(1-a)/b*(100-f),a),h=l.substring(0,l.indexOf("Animation")).toLowerCase(),i=h&&"-"+h+"-"||"";return n[e]||(o.insertRule("@"+i+"keyframes "+e+"{0%{opacity:"+g+"}"+f+"%{opacity:"+a+"}"+(f+.01)+"%{opacity:1}"+(f+b)%100+"%{opacity:"+a+"}100%{opacity:"+g+"}}",o.cssRules.length),n[e]=1),e}function f(a,b){var c,d,f=a.style;for(b=b.charAt(0).toUpperCase()+b.slice(1),d=0;d<m.length;d++)if(c=m[d]+b,f[c]!==e)return c;if(f[b]!==e)return b}function g(a,b){for(var c in b)a.style[f(a,c)||c]=b[c];return a}function h(a){for(var b=1;b<arguments.length;b++){var c=arguments[b];for(var d in c)a[d]===e&&(a[d]=c[d])}return a}function i(a){for(var b={x:a.offsetLeft,y:a.offsetTop};a=a.offsetParent;)b.x+=a.offsetLeft,b.y+=a.offsetTop;return b}function j(a,b){return"string"==typeof a?a:a[b%a.length]}function k(a){if(void 0===this)return new k(a);this.opts=h(a||{},k.defaults,p)}var l,m=["webkit","Moz","ms","O"],n={},o=function(){var d=a("style",{type:"text/css"});return c(b.getElementsByTagName("head")[0],d),d.sheet||d.styleSheet}(),p={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",direction:1,speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"};k.defaults={},h(k.prototype,{spin:function(b){this.stop();var c,d,e=this,f=e.opts,h=e.el=g(a(0,{className:f.className}),{position:f.position,width:0,zIndex:f.zIndex}),j=f.radius+f.length+f.width;if(b&&(b.insertBefore(h,b.firstChild||null),d=i(b),c=i(h),g(h,{left:("auto"==f.left?d.x-c.x+(b.offsetWidth>>1):parseInt(f.left,10)+j)+"px",top:("auto"==f.top?d.y-c.y+(b.offsetHeight>>1):parseInt(f.top,10)+j)+"px"})),h.setAttribute("role","progressbar"),e.lines(h,e.opts),!l){var k,m=0,n=(f.lines-1)*(1-f.direction)/2,o=f.fps,p=o/f.speed,q=(1-f.opacity)/(p*f.trail/100),r=p/f.lines;!function a(){m++;for(var b=0;b<f.lines;b++)k=Math.max(1-(m+(f.lines-b)*r)%p*q,f.opacity),e.opacity(h,b*f.direction+n,k,f);e.timeout=e.el&&setTimeout(a,~~(1e3/o))}()}return e},stop:function(){var a=this.el;return a&&(clearTimeout(this.timeout),a.parentNode&&a.parentNode.removeChild(a),this.el=e),this},lines:function(b,e){function f(b,c){return g(a(),{position:"absolute",width:e.length+e.width+"px",height:e.width+"px",background:b,boxShadow:c,transformOrigin:"left",transform:"rotate("+~~(360/e.lines*i+e.rotate)+"deg) translate("+e.radius+"px,0)",borderRadius:(e.corners*e.width>>1)+"px"})}for(var h,i=0,k=(e.lines-1)*(1-e.direction)/2;i<e.lines;i++)h=g(a(),{position:"absolute",top:1+~(e.width/2)+"px",transform:e.hwaccel?"translate3d(0,0,0)":"",opacity:e.opacity,animation:l&&d(e.opacity,e.trail,k+i*e.direction,e.lines)+" "+1/e.speed+"s linear infinite"}),e.shadow&&c(h,g(f("#000","0 0 4px #000"),{top:"2px"})),c(b,c(h,f(j(e.color,i),"0 0 1px rgba(0,0,0,.1)")));return b},opacity:function(a,b,c){b<a.childNodes.length&&(a.childNodes[b].style.opacity=c)}});var q=g(a("group"),{behavior:"url(#default#VML)"});return!f(q,"transform")&&q.adj?function(){function b(b,c){return a("<"+b+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',c)}o.addRule(".spin-vml","behavior:url(#default#VML)"),k.prototype.lines=function(a,d){function e(){return g(b("group",{coordsize:k+" "+k,coordorigin:-i+" "+-i}),{width:k,height:k})}function f(a,f,h){c(m,c(g(e(),{rotation:360/d.lines*a+"deg",left:~~f}),c(g(b("roundrect",{arcsize:d.corners}),{width:i,height:d.width,left:d.radius,top:-d.width>>1,filter:h}),b("fill",{color:j(d.color,a),opacity:d.opacity}),b("stroke",{opacity:0}))))}var h,i=d.length+d.width,k=2*i,l=2*-(d.width+d.length)+"px",m=g(e(),{position:"absolute",top:l,left:l});if(d.shadow)for(h=1;h<=d.lines;h++)f(h,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(h=1;h<=d.lines;h++)f(h);return c(a,m)},k.prototype.opacity=function(a,b,c,d){var e=a.firstChild;d=d.shadow&&d.lines||0,e&&b+d<e.childNodes.length&&(e=e.childNodes[b+d],e=e&&e.firstChild,(e=e&&e.firstChild)&&(e.opacity=c))}}():l=f(q,"animation"),k}()}();var Bb,Cb,Db=d(a),Eb=d(b),Fb="quirks"===c.hash.replace("#",""),Gb=tb.csstransforms3d,Hb=Gb&&!Fb,Ib=Gb||"CSS1Compat"===b.compatMode,Jb=ub.ok,Kb=navigator.userAgent.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Windows Phone/i),Lb=!Hb||Kb,Mb=navigator.msPointerEnabled,Nb="onwheel"in b.createElement("div")?"wheel":b.onmousewheel!==e?"mousewheel":"DOMMouseScroll",Ob=250,Pb=300,Qb=1400,Rb=5e3,Sb=64,Tb=500,Ub=333,Vb="$stageFrame",Wb="$navDotFrame",Xb="$navThumbFrame",Yb="auto",Zb=function(a){var b="bez_"+d.makeArray(arguments).join("_").replace(".","p");if("function"!=typeof d.easing[b]){var c=function(a,b){var c=[null,null],d=[null,null],e=[null,null],f=function(f,g){return e[g]=3*a[g],d[g]=3*(b[g]-a[g])-e[g],c[g]=1-e[g]-d[g],f*(e[g]+f*(d[g]+f*c[g]))},g=function(a){return e[0]+a*(2*d[0]+3*c[0]*a)},h=function(a){for(var b,c=a,d=0;++d<14&&(b=f(c,0)-a,!(Math.abs(b)<.001));)c-=b/g(c);return c};return function(a){return f(h(a),1)}};d.easing[b]=function(b,d,e,f,g){return f*c([a[0],a[1]],[a[2],a[3]])(d/g)+e}}return b}([.1,0,.25,1]),$b="50%",_b={width:null,minwidth:null,maxwidth:"100%",height:null,minheight:null,maxheight:null,ratio:null,margin:2,glimpse:0,fit:"contain",position:$b,thumbposition:$b,nav:"dots",navposition:"bottom",navwidth:null,thumbwidth:Sb,thumbheight:Sb,thumbmargin:2,thumbborderwidth:2,thumbfit:"cover",allowfullscreen:!1,transition:"slide",clicktransition:null,transitionduration:Pb,captions:!0,hash:!1,startindex:0,loop:!1,autoplay:!1,stopautoplayontouch:!0,keyboard:!1,arrows:!0,click:!0,swipe:!0,trackpad:!1,enableifsingleframe:!1,controlsonstart:!0,shuffle:!1,direction:"ltr",shadows:!0,spinner:null},ac={left:!0,right:!0,down:!1,up:!1,space:!1,home:!1,end:!1};F.stop=function(a){F.ii[a]=!1};var bc,cc,dc,ec;jQuery.Fotorama=function(a,e){function f(){d.each(xc,function(a,b){if(!b.i){b.i=ld++;var c=z(b.video,!0);if(c){var d={};b.video=c,b.img||b.thumb?b.thumbsReady=!0:d=A(b,xc,hd),B(xc,{img:d.img,thumb:d.thumb},b.i,hd)}}})}function h(a){return Yc[a]||hd.fullScreen}function i(a){var b="keydown."+ha,c=ha+id,d="keydown."+c,f="resize."+c+" orientationchange."+c;a?(Eb.on(d,function(a){var b,c;Bc&&27===a.keyCode?(b=!0,lc(Bc,!0,!0)):(hd.fullScreen||e.keyboard&&!hd.index)&&(27===a.keyCode?(b=!0,hd.cancelFullScreen()):a.shiftKey&&32===a.keyCode&&h("space")||37===a.keyCode&&h("left")||38===a.keyCode&&h("up")?c="<":32===a.keyCode&&h("space")||39===a.keyCode&&h("right")||40===a.keyCode&&h("down")?c=">":36===a.keyCode&&h("home")?c="<<":35===a.keyCode&&h("end")&&(c=">>")),(b||c)&&X(a),c&&hd.show({index:c,slow:a.altKey,user:!0})}),hd.index||Eb.off(b).on(b,"textarea, input, select",function(a){!Cb.hasClass(ia)&&a.stopPropagation()}),Db.on(f,hd.resize)):(Eb.off(d),Db.off(f))}function l(b){b!==l.f&&(b?(a.html("").addClass(ha+" "+jd).append(pd).before(nd).before(od),fa(hd)):(pd.detach(),nd.detach(),od.detach(),a.html(md.urtext).removeClass(jd),ga(hd)),i(b),l.f=b)}function n(){xc=hd.data=xc||O(e.data)||C(a),yc=hd.size=xc.length,!wc.ok&&e.shuffle&&N(xc),f(),Id=y(Id),yc&&l(!0)}function s(){var a=yc<2&&!e.enableifsingleframe||Bc;Ld.noMove=a||Rc,Ld.noSwipe=a||!e.swipe,!Vc&&rd.toggleClass(Aa,!e.click&&!Ld.noMove&&!Ld.noSwipe),Mb&&pd.toggleClass(ra,!Ld.noSwipe)}function t(a){a===!0&&(a=""),e.autoplay=Math.max(+a||Rb,1.5*Uc)}function w(){function a(a,c){b[a?"add":"remove"].push(c)}hd.options=e=Q(e),Rc="crossfade"===e.transition||"dissolve"===e.transition,Lc=e.loop&&(yc>2||Rc&&(!Vc||"slide"!==Vc)),Uc=+e.transitionduration||Pb,Xc="rtl"===e.direction,Yc=d.extend({},e.keyboard&&ac,e.keyboard);var b={add:[],remove:[]};yc>1||e.enableifsingleframe?(Mc=e.nav,Oc="top"===e.navposition,b.remove.push(Wa),vd.toggle(!!e.arrows)):(Mc=!1,vd.hide()),Ra(),Ac=new yb(d.extend(zb,e.spinner,Ab,{direction:Xc?-1:1})),Gb(),Kb(),e.autoplay&&t(e.autoplay),Sc=m(e.thumbwidth)||Sb,Tc=m(e.thumbheight)||Sb,Md.ok=Od.ok=e.trackpad&&!Lb,s(),dc(e,[Kd]),Nc="thumbs"===Mc,Nc?(rb(yc,"navThumb"),zc=Ad,gd=Xb,I(nd,d.Fotorama.jst.style({w:Sc,h:Tc,b:e.thumbborderwidth,m:e.thumbmargin,s:id,q:!Ib})),xd.addClass(Ka).removeClass(Ja)):"dots"===Mc?(rb(yc,"navDot"),zc=zd,gd=Wb,xd.addClass(Ja).removeClass(Ka)):(Mc=!1,xd.removeClass(Ka+" "+Ja)),Mc&&(Oc?wd.insertBefore(qd):wd.insertAfter(qd),wb.nav=!1,wb(zc,yd,"nav")),Pc=e.allowfullscreen,Pc?(Cd.prependTo(qd),Qc=Jb&&"native"===Pc):(Cd.detach(),Qc=!1),a(Rc,na),a(!Rc,oa),a(!e.captions,ua),a(Xc,sa),a("always"!==e.arrows,va),Wc=e.shadows&&!Lb,a(!Wc,qa),pd.addClass(b.add.join(" ")).removeClass(b.remove.join(" ")),Jd=d.extend({},e)}function x(a){return a<0?(yc+a%yc)%yc:a>=yc?a%yc:a}function y(a){return g(a,0,yc-1)}function D(a){return Lc?x(a):y(a)}function T(a){return!!(a>0||Lc)&&a-1}function Z(a){return!!(a<yc-1||Lc)&&a+1}function aa(){Ld.min=Lc?-(1/0):-q(yc-1,Kd.w,e.margin,Ec),Ld.max=Lc?1/0:-q(0,Kd.w,e.margin,Ec),Ld.snap=Kd.w+e.margin}function ba(){Nd.min=Math.min(0,Kd.nw-yd.width()),Nd.max=0,yd.toggleClass(Aa,!(Nd.noMove=Nd.min===Nd.max))}function ea(a,b,c){if("number"==typeof a){a=new Array(a);var e=!0}return d.each(a,function(a,d){if(e&&(d=a),"number"==typeof d){var f=xc[x(d)];if(f){var g="$"+b+"Frame",h=f[g];c.call(this,a,d,f,h,g,h&&h.data())}}})}function Oa(a,b,c,d){(!Zc||"*"===Zc&&d===Kc)&&(a=p(e.width)||p(a)||Tb,b=p(e.height)||p(b)||Ub,hd.resize({width:a,ratio:e.ratio||c||a/b},0,d!==Kc&&"*"))}function Pa(a,b,c,f,g,h){ea(a,b,function(a,i,j,k,l,m){function n(a){var b=x(i);ec(a,{index:b,src:w,frame:xc[b]})}function o(){t.remove(),d.Fotorama.cache[w]="error",j.html&&"stage"===b||!y||y===w?(!w||j.html||r?"stage"===b&&(k.trigger("f:load").removeClass(_a+" "+$a).addClass(ab),n("load"),Oa()):(k.trigger("f:error").removeClass(_a).addClass($a),n("error")),m.state="error",!(yc>1&&xc[i]===j)||j.html||j.deleted||j.video||r||(j.deleted=!0,hd.splice(i,1))):(j[v]=w=y,Pa([i],b,c,f,g,!0))}function p(){d.Fotorama.measures[w]=u.measures=d.Fotorama.measures[w]||{width:s.width,height:s.height,ratio:s.width/s.height},Oa(u.measures.width,u.measures.height,u.measures.ratio,i),t.off("load error").addClass(eb+(r?" "+fb:"")).prependTo(k),H(t,(d.isFunction(c)?c():c)||Kd,f||j.fit||e.fit,g||j.position||e.position),d.Fotorama.cache[w]=m.state="loaded",setTimeout(function(){k.trigger("f:load").removeClass(_a+" "+$a).addClass(ab+" "+(r?bb:cb)),"stage"===b?n("load"):(j.thumbratio===Yb||!j.thumbratio&&e.thumbratio===Yb)&&(j.thumbratio=u.measures.ratio,uc())},0)}function q(){var a=10;F(function(){return!ed||!a--&&!Lb},function(){p()})}if(k){var r=hd.fullScreen&&j.full&&j.full!==j.img&&!m.$full&&"stage"===b;if(!m.$img||h||r){var s=new Image,t=d(s),u=t.data();m[r?"$full":"$img"]=t;var v="stage"===b?r?"full":"img":"thumb",w=j[v],y=r?null:j["stage"===b?"thumb":"img"];if("navThumb"===b&&(k=m.$wrap),!w)return void o();d.Fotorama.cache[w]?function a(){"error"===d.Fotorama.cache[w]?o():"loaded"===d.Fotorama.cache[w]?setTimeout(q,0):setTimeout(a,100)}():(d.Fotorama.cache[w]="*",t.on("load",q).on("error",o)),m.state="",m.data.hasOwnProperty("alt")&&(s.alt=m.data.alt),m.data.hasOwnProperty("title")&&(s.title=m.data.title),s.src=w}}})}function Qa(a){Hd.append(Ac.spin().el).appendTo(a)}function Ra(){Hd.detach(),Ac&&Ac.stop()}function db(){var a=Cc[Vb];a&&!a.data().state&&(Qa(a),a.on("f:load f:error",function(){a.off("f:load f:error"),Ra()}))}function kb(a){V(a,rc),W(a,function(){setTimeout(function(){P(xd)},0),Zb({time:Uc,guessIndex:d(this).data().eq,minMax:Nd})})}function rb(a,b){ea(a,b,function(a,c,e,f,g,h){if(!f){f=e[g]=pd[g].clone(),h=f.data(),h.data=e;var i=f[0];"stage"===b?(e.html&&d('<div class="'+jb+'"></div>').append(e._html?d(e.html).removeAttr("id").html(e._html):e.html).appendTo(f),e.caption&&d(M(nb,M(ob,e.caption))).appendTo(f),e.video&&f.addClass(ya).append(Ed.clone()),W(i,function(){setTimeout(function(){P(qd)},0),oc({index:h.eq,user:!0})}),sd=sd.add(f)):"navDot"===b?(kb(i),zd=zd.add(f)):"navThumb"===b&&(kb(i),h.$wrap=f.children(":first"),Ad=Ad.add(f),e.video&&h.$wrap.append(Ed.clone()))}})}function sb(a,b,c,d){return a&&a.length&&H(a,b,c,d)}function tb(a){ea(a,"stage",function(a,b,c,f,g,h){if(f){var i=x(b),j=c.fit||e.fit,l=c.position||e.position;h.eq=i,Qd[Vb][i]=f.css(d.extend({left:Rc?0:q(b,Kd.w,e.margin,Ec)},Rc&&k(0))),E(f[0])&&(f.appendTo(rd),lc(c.$video)),sb(h.$img,Kd,j,l),sb(h.$full,Kd,j,l)}})}function vb(a,b){if("thumbs"===Mc&&!isNaN(a)){var c=-a,f=-a+Kd.nw;Ad.each(function(){var a=d(this),g=a.data(),h=g.eq,i=function(){return{h:Tc,w:g.w}},j=i(),k=xc[h]||{},l=k.thumbfit||e.thumbfit,m=k.thumbposition||e.thumbposition;j.w=g.w,g.l+g.w<c||g.l>f||sb(g.$img,j,l,m)||b&&Pa([h],"navThumb",i,l,m)})}}function wb(a,b,c){if(!wb[c]){var f="nav"===c&&Nc,g=0;b.append(a.filter(function(){for(var a,b=d(this),c=b.data(),e=0,f=xc.length;e<f;e++)if(c.data===xc[e]){a=!0,c.eq=e;break}return a||b.remove()&&!1}).sort(function(a,b){return d(a).data().eq-d(b).data().eq}).each(function(){if(f){var a=d(this),b=a.data(),c=Math.round(Tc*b.data.thumbratio)||Sc;b.l=g,b.w=c,a.css({width:c}),g+=c+e.thumbmargin}})),wb[c]=!0}}function xb(a){return a-Rd>Kd.w/3}function Fb(a){return!(Lc||Id+a&&Id-yc+a||Bc)}function Gb(){var a=Fb(0),b=Fb(1);td.toggleClass(Da,a).attr(U(a)),ud.toggleClass(Da,b).attr(U(b))}function Kb(){Md.ok&&(Md.prevent={"<":Fb(0),">":Fb(1)})}function Nb(a){var b,c,d=a.data();return Nc?(b=d.l,c=d.w):(b=a.position().left,c=a.width()),{c:b+c/2,min:-b+10*e.thumbmargin,max:-b+Kd.w-c-10*e.thumbmargin}}function Qb(a){var b=Cc[gd].data();$(Bd,{time:1.2*a,pos:b.l,width:b.w-2*e.thumbborderwidth})}function Zb(a){var b=xc[a.guessIndex][gd];if(b){var c=Nd.min!==Nd.max,d=a.minMax||c&&Nb(Cc[gd]),e=c&&(a.keep&&Zb.l?Zb.l:g((a.coo||Kd.nw/2)-Nb(b).c,d.min,d.max)),f=c&&g(e,Nd.min,Nd.max);$(yd,{time:1.1*a.time,pos:f||0,onEnd:function(){vb(f,!0)}}),kc(xd,J(f,Nd.min,Nd.max)),Zb.l=e}}function $b(){_b(gd),Pd[gd].push(Cc[gd].addClass(Va))}function _b(a){for(var b=Pd[a];b.length;)b.shift().removeClass(Va)}function bc(a){var b=Qd[a];d.each(Dc,function(a,c){delete b[x(c)]}),d.each(b,function(a,c){delete b[a],c.detach()})}function cc(a){Ec=Fc=Id;var b=Cc[Vb];b&&(_b(Vb),Pd[Vb].push(b.addClass(Va)),a||hd.show.onEnd(!0),u(rd,0,!0),bc(Vb),tb(Dc),aa(),ba())}function dc(a,b){a&&d.each(b,function(b,c){c&&d.extend(c,{width:a.width||c.width,height:a.height,minwidth:a.minwidth,maxwidth:a.maxwidth,minheight:a.minheight,maxheight:a.maxheight,ratio:R(a.ratio)})})}function ec(b,c){a.trigger(ha+":"+b,[hd,c])}function fc(){clearTimeout(gc.t),ed=1,e.stopautoplayontouch?hd.stopAutoplay():bd=!0}function gc(){ed&&(e.stopautoplayontouch||(hc(),ic()),gc.t=setTimeout(function(){ed=0},Pb+Ob))}function hc(){bd=!(!Bc&&!cd)}function ic(){if(clearTimeout(ic.t),F.stop(ic.w),!e.autoplay||bd)return void(hd.autoplay&&(hd.autoplay=!1,ec("stopautoplay")));hd.autoplay||(hd.autoplay=!0,ec("startautoplay"));var a=Id,b=Cc[Vb].data();ic.w=F(function(){return b.state||a!==Id},function(){ic.t=setTimeout(function(){if(!bd&&a===Id){var b=Jc,c=xc[b][Vb].data();ic.w=F(function(){return c.state||b!==Jc},function(){bd||b!==Jc||hd.show(Lc?Y(!Xc):Jc)})}},e.autoplay)})}function jc(){hd.fullScreen&&(hd.fullScreen=!1,Jb&&ub.cancel(kd),Cb.removeClass(ia),Bb.removeClass(ia),a.removeClass(Ya).insertAfter(od),Kd=d.extend({},dd),lc(Bc,!0,!0),qc("x",!1),hd.resize(),Pa(Dc,"stage"),P(Db,_c,$c),ec("fullscreenexit"))}function kc(a,b){Wc&&(a.removeClass(Ta+" "+Ua),b&&!Bc&&a.addClass(b.replace(/^|\s/g," "+Sa+"--")))}function lc(a,b,c){b&&(pd.removeClass(ma),Bc=!1,s()),a&&a!==Bc&&(a.remove(),ec("unloadvideo")),c&&(hc(),ic())}function mc(a){pd.toggleClass(pa,a)}function nc(a){if(!Ld.flow){var b=a?a.pageX:nc.x,c=b&&!Fb(xb(b))&&e.click;nc.p!==c&&qd.toggleClass(Ba,c)&&(nc.p=c,nc.x=b)}}function oc(a){clearTimeout(oc.t),e.clicktransition&&e.clicktransition!==e.transition?setTimeout(function(){var b=e.transition;hd.setOptions({transition:e.clicktransition}),Vc=b,oc.t=setTimeout(function(){hd.show(a)},10)},0):hd.show(a)}function pc(a,b){var c=a.target;d(c).hasClass(lb)?hd.playVideo():c===Dd?hd.toggleFullScreen():Bc?c===Gd&&lc(Bc,!0,!0):b?mc():e.click&&oc({index:a.shiftKey||Y(xb(a._x)),slow:a.altKey,user:!0})}function qc(a,b){Ld[a]=Nd[a]=b}function rc(a){oc({index:d(this).data().eq,slow:a.altKey,user:!0,coo:a._x-xd.offset().left})}function sc(a){oc({index:vd.index(this)?">":"<",slow:a.altKey,user:!0})}function tc(a){W(a,function(){setTimeout(function(){P(qd)},0),mc(!1)})}function uc(){if(n(),w(),!uc.i){uc.i=!0;var a=e.startindex;(a||e.hash&&c.hash)&&(Kc=K(a||c.hash.replace(/^#/,""),xc,0===hd.index||a,a)),Id=Ec=Fc=Gc=Kc=D(Kc)||0}if(yc){if(vc())return;Bc&&lc(Bc,!0),Dc=[],bc(Vb),uc.ok=!0,hd.show({index:Id,time:0}),hd.resize()}else hd.destroy()}function vc(){if(!vc.f===Xc)return vc.f=Xc,Id=yc-1-Id,hd.reverse(),!0}function wc(){wc.ok||(wc.ok=!0,ec("ready"))}Bb=d("html"),Cb=d("body");var xc,yc,zc,Ac,Bc,Cc,Dc,Ec,Fc,Gc,Hc,Ic,Jc,Kc,Lc,Mc,Nc,Oc,Pc,Qc,Rc,Sc,Tc,Uc,Vc,Wc,Xc,Yc,Zc,$c,_c,ad,bd,cd,dd,ed,fd,gd,hd=this,id=d.now(),jd=ha+id,kd=a[0],ld=1,md=a.data(),nd=d("<style></style>"),od=d(M(Xa)),pd=d(M(ja)),qd=d(M(wa)).appendTo(pd),rd=(qd[0],
d(M(za)).appendTo(qd)),sd=d(),td=d(M(Ca+" "+Ea+qb)),ud=d(M(Ca+" "+Fa+qb)),vd=td.add(ud).appendTo(qd),wd=d(M(Ha)),xd=d(M(Ga)).appendTo(wd),yd=d(M(Ia)).appendTo(xd),zd=d(),Ad=d(),Bd=(rd.data(),yd.data(),d(M(ib)).appendTo(yd)),Cd=d(M(Za+qb)),Dd=Cd[0],Ed=d(M(lb)),Fd=d(M(mb)).appendTo(qd),Gd=Fd[0],Hd=d(M(pb)),Id=!1,Jd={},Kd={},Ld={},Md={},Nd={},Od={},Pd={},Qd={},Rd=0,Sd=[];pd[Vb]=d(M(xa)),pd[Xb]=d(M(La+" "+Na+qb,M(hb))),pd[Wb]=d(M(La+" "+Ma+qb,M(gb))),Pd[Vb]=[],Pd[Xb]=[],Pd[Wb]=[],Qd[Vb]={},pd.addClass(Hb?la:ka).toggleClass(pa,!e.controlsonstart),md.fotorama=this,hd.startAutoplay=function(a){return hd.autoplay?this:(bd=cd=!1,t(a||e.autoplay),ic(),this)},hd.stopAutoplay=function(){return hd.autoplay&&(bd=cd=!0,ic()),this},hd.show=function(a){var b;"object"!=typeof a?(b=a,a={}):b=a.index,b=">"===b?Fc+1:"<"===b?Fc-1:"<<"===b?0:">>"===b?yc-1:b,b=isNaN(b)?K(b,xc,!0):b,b=void 0===b?Id||0:b,hd.activeIndex=Id=D(b),Hc=T(Id),Ic=Z(Id),Jc=x(Id+(Xc?-1:1)),Dc=[Id,Hc,Ic],Fc=Lc?b:Id;var c=Math.abs(Gc-Fc),d=v(a.time,function(){return Math.min(Uc*(1+(c-1)/12),2*Uc)}),f=a.overPos;a.slow&&(d*=10);var h=Cc;hd.activeFrame=Cc=xc[Id];var i=h===Cc&&!a.user;lc(Bc,Cc.i!==xc[x(Ec)].i),rb(Dc,"stage"),tb(Lb?[Fc]:[Fc,T(Fc),Z(Fc)]),qc("go",!0),i||ec("show",{user:a.user,time:d}),bd=!0;var j=hd.show.onEnd=function(b){if(!j.ok){if(j.ok=!0,b||cc(!0),i||ec("showend",{user:a.user}),!b&&Vc&&Vc!==e.transition)return hd.setOptions({transition:Vc}),void(Vc=!1);db(),Pa(Dc,"stage"),qc("go",!1),Kb(),nc(),hc(),ic()}};if(Rc){_(Cc[Vb],Id!==Gc?xc[Gc][Vb]:null,sd,{time:d,method:e.transition,onEnd:j},Sd)}else $(rd,{pos:-q(Fc,Kd.w,e.margin,Ec),overPos:f,time:d,onEnd:j});if(Gb(),Mc){$b();var k=y(Id+g(Fc-Gc,-1,1));Zb({time:d,coo:k!==Id&&a.coo,guessIndex:void 0!==a.coo?k:Id,keep:i}),Nc&&Qb(d)}return ad=void 0!==Gc&&Gc!==Id,Gc=Id,e.hash&&ad&&!hd.eq&&G(Cc.id||Id+1),this},hd.requestFullScreen=function(){return Pc&&!hd.fullScreen&&($c=Db.scrollTop(),_c=Db.scrollLeft(),P(Db),qc("x",!0),dd=d.extend({},Kd),a.addClass(Ya).appendTo(Cb.addClass(ia)),Bb.addClass(ia),lc(Bc,!0,!0),hd.fullScreen=!0,Qc&&ub.request(kd),hd.resize(),Pa(Dc,"stage"),db(),ec("fullscreenenter")),this},hd.cancelFullScreen=function(){return Qc&&ub.is()?ub.cancel(b):jc(),this},hd.toggleFullScreen=function(){return hd[(hd.fullScreen?"cancel":"request")+"FullScreen"]()},S(b,ub.event,function(){!xc||ub.is()||Bc||jc()}),hd.resize=function(a){if(!xc)return this;var b=arguments[1]||0,c=arguments[2];dc(hd.fullScreen?{width:"100%",maxwidth:null,minwidth:null,height:"100%",maxheight:null,minheight:null}:Q(a),[Kd,c||hd.fullScreen||e]);var d=Kd.width,f=Kd.height,h=Kd.ratio,i=Db.height()-(Mc?xd.height():0);return p(d)&&(pd.addClass(ta).css({width:d,minWidth:Kd.minwidth||0,maxWidth:Kd.maxwidth||99999}),d=Kd.W=Kd.w=pd.width(),Kd.nw=Mc&&o(e.navwidth,d)||d,e.glimpse&&(Kd.w-=Math.round(2*(o(e.glimpse,d)||0))),rd.css({width:Kd.w,marginLeft:(Kd.W-Kd.w)/2}),f=o(f,i),(f=f||h&&d/h)&&(d=Math.round(d),f=Kd.h=Math.round(g(f,o(Kd.minheight,i),o(Kd.maxheight,i))),qd.stop().animate({width:d,height:f},b,function(){pd.removeClass(ta)}),cc(),Mc&&(xd.stop().animate({width:Kd.nw},b),Zb({guessIndex:Id,time:b,keep:!0}),Nc&&wb.nav&&Qb(b)),Zc=c||!0,wc())),Rd=qd.offset().left,this},hd.setOptions=function(a){return d.extend(e,a),uc(),this},hd.shuffle=function(){return xc&&N(xc)&&uc(),this},hd.destroy=function(){return hd.cancelFullScreen(),hd.stopAutoplay(),xc=hd.data=null,l(),Dc=[],bc(Vb),uc.ok=!1,this},hd.playVideo=function(){var a=Cc,b=a.video,c=Id;return"object"==typeof b&&a.videoReady&&(Qc&&hd.fullScreen&&hd.cancelFullScreen(),F(function(){return!ub.is()||c!==Id},function(){c===Id&&(a.$video=a.$video||d(d.Fotorama.jst.video(b)),a.$video.appendTo(a[Vb]),pd.addClass(ma),Bc=a.$video,s(),vd.blur(),Cd.blur(),ec("loadvideo"))})),this},hd.stopVideo=function(){return lc(Bc,!0,!0),this},qd.on("mousemove",nc),Ld=ca(rd,{onStart:fc,onMove:function(a,b){kc(qd,b.edge)},onTouchEnd:gc,onEnd:function(a){kc(qd);var b=(Mb&&!fd||a.touch)&&e.arrows&&"always"!==e.arrows;if(a.moved||b&&a.pos!==a.newPos&&!a.control){var c=r(a.newPos,Kd.w,e.margin,Ec);hd.show({index:c,time:Rc?Uc:a.time,overPos:a.overPos,user:!0})}else a.aborted||a.control||pc(a.startEvent,b)},timeLow:1,timeHigh:1,friction:2,select:"."+Wa+", ."+Wa+" *",$wrap:qd}),Nd=ca(yd,{onStart:fc,onMove:function(a,b){kc(xd,b.edge)},onTouchEnd:gc,onEnd:function(a){function b(){Zb.l=a.newPos,hc(),ic(),vb(a.newPos,!0)}if(a.moved)a.pos!==a.newPos?(bd=!0,$(yd,{time:a.time,pos:a.newPos,overPos:a.overPos,onEnd:b}),vb(a.newPos),Wc&&kc(xd,J(a.newPos,Nd.min,Nd.max))):b();else{var c=a.$target.closest("."+La,yd)[0];c&&rc.call(c,a.startEvent)}},timeLow:.5,timeHigh:2,friction:5,$wrap:xd}),Md=da(qd,{shift:!0,onEnd:function(a,b){fc(),gc(),hd.show({index:b,slow:a.altKey})}}),Od=da(xd,{onEnd:function(a,b){fc(),gc();var c=u(yd)+.25*b;yd.css(j(g(c,Nd.min,Nd.max))),Wc&&kc(xd,J(c,Nd.min,Nd.max)),Od.prevent={"<":c>=Nd.max,">":c<=Nd.min},clearTimeout(Od.t),Od.t=setTimeout(function(){Zb.l=c,vb(c,!0)},Ob),vb(c)}}),pd.hover(function(){setTimeout(function(){ed||mc(!(fd=!0))},0)},function(){fd&&mc(!(fd=!1))}),L(vd,function(a){X(a),sc.call(this,a)},{onStart:function(){fc(),Ld.control=!0},onTouchEnd:gc}),vd.each(function(){V(this,function(a){sc.call(this,a)}),tc(this)}),V(Dd,hd.toggleFullScreen),tc(Dd),d.each("load push pop shift unshift reverse sort splice".split(" "),function(a,b){hd[b]=function(){return xc=xc||[],"load"!==b?Array.prototype[b].apply(xc,arguments):arguments[0]&&"object"==typeof arguments[0]&&arguments[0].length&&(xc=O(arguments[0])),uc(),hd}}),uc()},d.fn.fotorama=function(b){return this.each(function(){var c=this,e=d(this),f=e.data(),g=f.fotorama;g?g.setOptions(b,!0):F(function(){return!D(c)},function(){f.urtext=e.html(),new d.Fotorama(e,d.extend({},_b,a.fotoramaDefaults,b,f))})})},d.Fotorama.instances=[],d.Fotorama.cache={},d.Fotorama.measures={},d=d||{},d.Fotorama=d.Fotorama||{},d.Fotorama.jst=d.Fotorama.jst||{},d.Fotorama.jst.style=function(a){var b,c="";sb.escape;return c+=".fotorama"+(null==(b=a.s)?"":b)+" .fotorama__nav--thumbs .fotorama__nav__frame{\npadding:"+(null==(b=a.m)?"":b)+"px;\nheight:"+(null==(b=a.h)?"":b)+"px}\n.fotorama"+(null==(b=a.s)?"":b)+" .fotorama__thumb-border{\nheight:"+(null==(b=a.h-a.b*(a.q?0:2))?"":b)+"px;\nborder-width:"+(null==(b=a.b)?"":b)+"px;\nmargin-top:"+(null==(b=a.m)?"":b)+"px}"},d.Fotorama.jst.video=function(a){var b="",c=(sb.escape,Array.prototype.join);return b+='<div class="fotorama__video"><iframe src="',function(){b+=c.call(arguments,"")}(("youtube"==a.type?a.p+"youtube.com/embed/"+a.id+"?autoplay=1&rel=0":"vimeo"==a.type?a.p+"player.vimeo.com/video/"+a.id+"?autoplay=1&badge=0":a.id)+(a.s&&"custom"!=a.type?"&"+a.s:"")),b+='" frameborder="0" allowfullscreen></iframe></div>\n'},d(function(){d("."+ha+':not([data-auto="false"])').fotorama()})}(window,document,location,"undefined"!=typeof jQuery&&jQuery);