!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,e),o.l=!0,o.exports}var n={};e.m=t,e.c=n,e.i=function(t){return t},e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/s/build/",e(e.s=32)}({32:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(9);window.avito=window.avito||{},window.avito.ads=window.avito.ads||{},window.avito.ads.checkBannerDisabled=function(){return!1};var o=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n]},i=function(t){return t.then(n.i(r.a)(o)(),n.i(r.a)(o)())};document.addEventListener("DOMContentLoaded",function(){function t(t){var e=t.passbackFrom,n=t.yandexBlockId;if("mailru"===t.tryToShow)return["mailru"];switch(e){case"dfp":return v(n)?["rtb","dfp"]:["dfp"];case"mailru":return["dfp"];default:return["stub"]}}function e(t){var e=t.passbackFrom,n=t.passbackTo,r=t.bannerPosition;switch(n){case"rtb":var o=t.yandexBlockId,i=t.yandexStatId;return{sellingSystem:"Yandex RTB",parameters:{block_id:o,stat_id:i,log_id:"6_"+o.replace(/[RA]-/g,"")+"-"+i+"-rtb"}};case"dfp":var s=y(r),a={};return"dfp"===e&&(a.offer_yandex=t.yandexOffer,a.nid="RTB"),"mailru"===e&&(a.exclude_mailru=t.mailRuParams.exclude_mailru,a.nid=t.mailRuParams.nid),Object.assign(s.parameters.targetings,a),s;case"mailru":return{sellingSystem:"inner",parameters:{log_id:t.mailRuParams.id}};default:return{sellingSystem:"stub",parameters:{targetings:{},log_id:"no-slot-found"}}}}function n(n){return[n.bannerPosition,t(n).map(function(t){return e(babelHelpers.extends({},n,{passbackTo:t}))})]}var s=window,a=s.abp,c=s.avito,d=c.banners;if(d){var u=new r.b;c.rmp={},c.rmp.logs=u.logs,c.rmp.current=u.current,c.rmp.counts=u.counts;var l="";try{l=c.dfp&&c.dfp.getSegments()||[]}catch(t){}var p=function(t,e){return"catalog"===c.pageId&&a&&["ldr_low","vr_low","tgb1"].includes(t)&&(e[t]=[{sellingSystem:"stub",parameters:{log_id:"abp-stub"}}]),t},f=function(t,e){var n=e.sellingSystem,r=e.parameters;if(r)try{if("DFP"===n){if(!r.dfp_slot)return void(d[t]=[{sellingSystem:"stub",parameters:{log_id:"empty-slot-stub"}}]);r.log_id=r.dfp_slot,Object.keys(r).filter(function(t){return t.startsWith("google_")||t.startsWith("yandex_")}).forEach(function(t){r.targetings[t]=r[t]})}if("AdFox"===n){r.params=r.params||{};var o=r.block_id?r.block_id.replace("8_","").split("-"):[null,null],i={p1:o[0],p2:o[1],puid32:l.join(":"),"partner-stat-id":r.stat_id};Object.assign(r.params,i),r.ownerId=245183,r.log_id=r.block_id+"-"+r.stat_id}"Yandex RTB"===n&&(r.log_id="6_"+r.block_id.replace(/[RA]-/g,"")+"-"+r.stat_id+"-rtb")}catch(t){}},h={},g={},m={successClassName:"avito-ads-serp-wrapper-success",failClassName:"avito-ads-serp-wrapper-fail"},w=Object.keys(d).map(function(t){return p(t,d)}).map(function(t){return d[t].map(function(e){return f(t,e)}),t}).filter(function(t){var e=t.match(/ads_desktop_serp(\d)/);if(!e)return!0;switch(e[1]){case"1":case"2":h[t]=d[t];break;case"3":case"4":g[t]=d[t]}return!1}).reduce(function(t,e){var n;return babelHelpers.extends({},t,(n={},n[e]=d[e],n))},{});u.showAllBanners(w).map(i),[h,g].forEach(function(t,e){return u.showBatch(t,babelHelpers.extends({},m,{target:".avito-ads-serp-wrapper-"+(e+1)})).map(i)});var v=function(t){return/^R-(A-)?\d+-\d+$/.test(t)},y=function(t){var e=(d[t]||[]).find(function(t){return"DFP"===t.sellingSystem});return e?babelHelpers.extends({},e,{parameters:babelHelpers.extends({},e.parameters,{targetings:babelHelpers.extends({},e.parameters.targetings)})}):{sellingSystem:"stub",parameters:{targetings:{},log_id:"no-dfp-slot-found"}}};c.adRequestCounter=function(t,e,n,r){var o=u.counts[e]||0,i="inner",s={log_id:t};if(!t){var a=y(e);s=a.parameters,i=a.sellingSystem}u.logRequest(i,e,s,n,r,o)},c.showRTB=function(t){var e={avito:!0,bannerPosition:t,passbackFrom:"dfp",yandexBlockId:arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",yandexStatId:arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",yandexOffer:arguments.length>3&&void 0!==arguments[3]?arguments[3]:0};o("["+e.bannerPosition+"] passback through avito.showRTB from "+e.passbackFrom.toUpperCase()),i(u.showBanner.apply(u,n(e)))},window.addEventListener("message",function(t){if(-1!==t.origin.indexOf("//tpc.googlesyndication.com")||t.origin===window.document.origin){var e=t.data;if("string"!=typeof e&&e.hasOwnProperty("avito")){var r=e.passbackFrom,s=void 0===r?"inner":r;o("["+e.bannerPosition+"] passback through postMessage from "+s),i(u.showBanner.apply(u,n(e)))}else if(c.isMobile&&"string"==typeof e){var a=void 0;try{a=JSON.parse(t.data)}catch(t){return}"dfp"===a.event&&"hide-me"===a.command&&Array.from(document.querySelectorAll("iframe")).forEach(function(e){if(e.contentWindow===t.source)for(var n=e.parentNode;n!==document.body;){if(n.classList.contains("ads-dfp"))return void n.classList.add("hidden");n=n.parentNode}})}}})}else o("data is empty")})},9:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var r,o,i={"Yandex RTB":{src:"//an.yandex.ru/system/context.js",isSync:window.avito&&!window.avito.isMobile,check:function(){return window.Ya&&window.Ya.Context&&window.Ya.Context.AdvManager},method:"showRtb",mobileClasses:["ads-rtb-banner","ads-direct-vertical-full-link"],logType:"as"},AdFox:{src:"//yastatic.net/pcode/adfox/loader.js",isSync:window.avito&&!window.avito.isMobile,check:function(){return window.Ya&&window.Ya.adfoxCode},method:"showAdfox",mobileClasses:["ads-rtb-banner","ads-direct-vertical-full-link"],logType:"as"},DFP:{src:"//www.googletagservices.com/tag/js/gpt.js",check:function(){return window.googletag&&window.googletag.apiReady},method:"showDfp",mobileClasses:["ads-dfp"],logType:"asp",init:function(t,e){return new Promise(function(n){t.window.googletag=t.window.googletag||{cmd:[]};var r=t.commonDFPTargetings,o=t.window,i=o.googletag,s=o.avito,a=s.dfp&&s.dfp.getSegments()||[];i.cmd.push(function(){var o=i.pubads();o.addEventListener("slotRenderEnded",function(e){if(t.map.has(e.slot)){var n=t.map.get(e.slot),r=n[0],o=n[1];e.isEmpty?o():r(),t.map.delete(e.slot)}}),Object.keys(r).forEach(function(t){var e=r[t];e&&!Array.isArray(e)&&(e=String(e)),t.startsWith("AdRS")&&(e=String(a)),e&&o.setTargeting(t,e)}),n(e)})})}},stub:{method:"showStub"},inner:{method:"showInner",logType:"as"}},s=function(){},a=function(t){return new Promise(function(e,n){var r=!1;return t.then(function(t){return r=!0,n(t)}).catch(function(t){return r?n(t):e(t)})})},c=function(t){return function(e){return function(n){var r=function(){return e?Promise.reject(n):n};return Promise.resolve(n).then(t).then(r,r)}}},d=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=0;return function(){return 0===(e?++n:n++)||Math.random()>.5?t.apply(void 0,arguments):void 0}},u=(o=r=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window;babelHelpers.classCallCheck(this,t),this.window=r,this.document=this.window.document,this.config=n,this.pendingScripts={},this.current={},this.counts={},this.logs={},this.logs.errors=[],this.commonDFPTargetings=r.avito.ads.dfpTargetings||{},this.map=new Map,this.throttledLog=d(this.logSentry.bind(this));var o="yandexContextAsyncCallbacks";this.window[o]=this.window[o]||[],this.nets=Object.keys(this.config).reduce(function(t,n){var r;return e.config[n].sync?babelHelpers.extends({},t,{sync:[].concat(t.sync||[],[e.start(n)])}):babelHelpers.extends({},t,(r={},r[n]=e.start(n),r))},{}),this.nets.sync=Promise.all(this.nets.sync||[])}return t.prototype.start=function(t){var e=this;return this.appendScript(t).then(function(){return e.checkNetIsReady(t)}).then(function(){return e.init(t)}).catch(function(){return Promise.reject(t)})},t.prototype.appendScript=function(t){var e=this,n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this.config[t].src;return r?(this.pendingScripts[r]=this.pendingScripts[r]||new Promise(function(o,i){var s=e.document.createElement("script");s.src=r,s.async=n,s.onload=function(){return o(t)},s.onerror=function(){return i(t)};var a=e.document.head.querySelector("script");a.parentNode.insertBefore(s,a)}).then(function(t){return delete e.pendingScripts[r],t}),this.pendingScripts[r]):Promise.resolve(t)},t.prototype.init=function(t){var e=this.config[t].init;return e?e(this,t):Promise.resolve(t)},t.prototype.checkNetIsReady=function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,o=this.config[t].check;return o?new Promise(function(i,s){return function a(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return o()?i(t):c>=r?s(t):(e.window.setTimeout(function(){a(c+1)},n),!0)}()}):Promise.resolve(t)},t.prototype.getContainerId=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1]?"template_":"ads_";return t.startsWith(e)?t:e+t},t.prototype.logRequest=function(t,e,n,r,o,i){var s=this.config[t].logType,a=n.log_id;if(this.logs[e]=this.logs[e]||[],this.logs[e].push({logId:a,eventType:r,isInternal:o,count:i,parameters:n,timestamp:this.window.Date.now()}),s){var c=s+":"+a+";e:"+r+";i:"+(o?1:0)+";ir:1",d=this.window.Math.random(),u="//www.avito.ru/stat/ad?k="+encodeURIComponent(c)+"&r="+d;(new this.window.Image).src=u}},t.prototype.logError=function(t,e,n,r){var o=this.logs.errors,i={method:t,reason:e,data:n,timestamp:this.window.Date.now()};o.push(i),r||this.throttledLog(i)},t.prototype.logSentry=function(t){this.window.hasOwnProperty("Raven")&&t&&this.window.Raven.captureMessage("RMP Error",{logger:"mnz.rize",tags:{service:"rmp",platform:"desktop"},extra:t})},t.prototype.showDfp=function(t,e){var n=this;return this.nets.DFP.then(function(){return new Promise(function(r,o){var i=n.window.googletag;i.cmd.push(function(){var s=i.pubads(),a=e.targetings,c=void 0===a?{}:a,d=void 0;d=i.defineSlot(e.dfp_slot,e.sizes,t),d=d.addService(s),Object.keys(c).forEach(function(t){d.setTargeting(t,c[t])}),i.enableServices();var u=function(){i.destroySlots([d])};n.map.set(d,[r,o].map(function(t){return t.bind(null,u)})),i.display(t)})})})},t.prototype.showRtb=function(t,e){var n=this,r="Yandex RTB",o="yandexContextAsyncCallbacks",i=this.config[r].isSync;return this.nets[i?"sync":r].then(function(){return new Promise(function(i,s){n.window[o]=n.window[o]||[],n.window[o].push(function(){n.window.Ya.Context.AdvManager.render({blockId:e.block_id,renderTo:t,statId:e.stat_id,async:!0,onRender:function(){return i()}},function(){return s()})}),n.appendScript(r,!1)})})},t.prototype.showAdfox=function(t,e){var n=this,r="adfoxAsyncParams",o=e.ownerId,i=e.params,s=this.config.AdFox.isSync;return this.nets[s?"sync":"AdFox"].then(function(){return new Promise(function(e,s){n.window[r]=n.window[r]||[],n.window[r].push({async:!0,ownerId:o,containerId:t,params:i,onRender:function(){return e()},onError:function(){return s()},onStub:function(){return s()}}),n.appendScript("AdFox",!1)})})},t.prototype.showStub=function(t){return this.document.getElementById(t).classList.add("abp-design"),Promise.resolve()},t.prototype.showInner=function(){return Promise.resolve()},t.prototype.showBanner=function(t,e){var n=this;if(!Array.isArray(e))return this.logError("showBanner","waterfall is not array",e),Promise.reject();var r=this.getContainerId(t,!0),o=this.document.getElementById(r);if(!o){var i=this.window.avito.ads.enabledBanners&&Boolean(this.window.avito.ads.enabledBanners[t]);return this.logError("showBanner","template does not exist",r,i),Promise.reject("template error")}if(this.counts[t]=(this.counts[t]||0)+1,this.counts[t]>3)return this.logError("showBanner","too many calls",this.counts[t]),Promise.reject("["+t+"] to many calls");var c=this.counts[t],d=this.getContainerId(t),u=[];return a(e.reduce(function(e,r,i){var l=r.sellingSystem,p=Boolean(i);if(!n.config.hasOwnProperty(l))return n.logError("showBanner","unknown advert net",l),e;var f=n.config[l].method;return e.then(function(){u.push(l);var e=n.current[t];e&&(n.logRequest(e.key,t,e.item.parameters,"p",e.isInternal,e.count),e.containerNode.remove(),(e.cb||s)(),delete n.current[t],p=!0);var i=o.children[0].cloneNode();if(i.id=d,n.window.avito.isMobile&&n.config[l].mobileClasses){var h;(h=i.classList).add.apply(h,n.config[l].mobileClasses)}return o.parentNode.appendChild(i),n.logRequest(l,t,r.parameters,"r",p,c),a(n[f](d,r.parameters)).then(function(e){n.logRequest(l,t,r.parameters,"p",p,c),i.remove(),("function"==typeof e?e:s)()}).catch(function(e){return n.current[t]={containerNode:i,containerId:d,key:l,item:r,isInternal:p,count:c,cb:e},Promise.reject()})})},Promise.resolve())).then(function(){return"["+t+"] shows × "+n.counts[t]+" resolved "+u.join(" to ")}).catch(function(){return Promise.reject("["+t+"] shows × "+n.counts[t]+" rejected "+u.join(" passback to "))})},t.prototype.showAllBanners=function(t){var e=this;return"object"!==(void 0===t?"undefined":babelHelpers.typeof(t))||Array.isArray(t)||null===t?(this.logError("showAllBanners","not a object",t),[Promise.reject()]):Object.keys(t).map(function(n){return e.showBanner(n,t[n])})},t.prototype.showBatch=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.showAllBanners(t),r=e.successClassName,o=void 0===r?"":r,i=e.failClassName,s=void 0===i?"":i,a=e.target,d=n.length,u=d,l=function(t){var e="string"==typeof a?document.querySelector(a):a;e&&1===e.nodeType&&setTimeout(function(){return e.classList.add(t)},200)},p=function(){return!--d&&u&&l(o)},f=function(){return--u||l(s)};return n.map(function(t){return t.catch(c(f)(!0)).then(c(p)())})},t}(),r.displayName="Rmp",o);e.b=u}});