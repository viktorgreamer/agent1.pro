<!DOCTYPE html>
<!-- saved from url=(0121)https://api.flocktory.com/v2/provider.html?siteId=1449&xdm_e=https%3A%2F%2Fvelnovgorod.irr.ru&xdm_c=flockProvider&xdm_p=1 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <title>flock-provider</title>
  </head>
  <body>
  <script type="text/javascript">!function(e){function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}var t={};return n.m=e,n.c=t,n.p="",n(0)}({0:function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}var o=t(14),i=r(o),a=t(27),u=r(a),c=t(68),s=r(c),f=t(70),l=r(f),d=t(71),p=r(d),v=t(17),h=window.document.location.search.slice(1).split("&"),m=null,g=null;h.forEach(function(e){var n=e.split("="),t=n[0],r=n[1];if("siteId"===t&&(m=parseInt(r,10)),"flocktoryDebug"===t)try{g=JSON.parse(window.decodeURIComponent(r));var o=g.log||{};(0,v.isNumber)(o.level)&&i["default"].level(o.level);var a=o.levels||{};Object.keys(a).forEach(function(e){var n=a[e];(0,i["default"])(e).level(n)})}catch(u){}});var y={};g&&(y.debug=!!g.debugPrecheckout),(0,u["default"])([s["default"],{},m],[p["default"],s["default"],m,y],[l["default"],p["default"],s["default"],m,window]).then(function(){(0,i["default"])("provider-system").info("System ready. Version: 27ed2265350a7323017ba3159226cc256d955d43")})["catch"](function(e){return"NS_ERROR_FILE_CORRUPTED"===e.name?void(0,i["default"])("provider-system").warn("NS_ERROR_FILE_CORRUPTED. Firefox sqlite file corrupted."):void(0,i["default"])("provider-system").error(e,"Could not start system in provider")})},3:function(e,n,t){"use strict";var r=t(4).Promise,o=window.Promise;if(o){var i=null;try{i=Object.prototype.toString.call(o.resolve())}catch(a){}("[object Promise]"!==i||o.cast)&&(o=r)}else o=r;e.exports=o},4:function(e,n,t){(function(n,r,o){!function(n,t){e.exports=t()}(this,function(){"use strict";function e(e){return"function"==typeof e||"object"==typeof e&&null!==e}function r(e){return"function"==typeof e}function i(e){K=e}function a(e){Y=e}function u(){return function(){return n.nextTick(d)}}function c(){return"undefined"!=typeof q?function(){q(d)}:l()}function s(){var e=0,n=new G(d),t=document.createTextNode("");return n.observe(t,{characterData:!0}),function(){t.data=e=++e%2}}function f(){var e=new MessageChannel;return e.port1.onmessage=d,function(){return e.port2.postMessage(0)}}function l(){var e=setTimeout;return function(){return e(d,1)}}function d(){for(var e=0;e<$;e+=2){var n=te[e],t=te[e+1];n(t),te[e]=void 0,te[e+1]=void 0}$=0}function p(){try{var e=t(6);return q=e.runOnLoop||e.runOnContext,c()}catch(n){return l()}}function v(e,n){var t=arguments,r=this,o=new this.constructor(m);void 0===o[oe]&&P(o);var i=r._state;return i?!function(){var e=t[i-1];Y(function(){return j(i,o,e,r._result)})}():k(r,o,e,n),o}function h(e){var n=this;if(e&&"object"==typeof e&&e.constructor===n)return e;var t=new n(m);return O(t,e),t}function m(){}function g(){return new TypeError("You cannot resolve a promise with itself")}function y(){return new TypeError("A promises callback cannot return that same promise.")}function w(e){try{return e.then}catch(n){return ce.error=n,ce}}function b(e,n,t,r){try{e.call(n,t,r)}catch(o){return o}}function _(e,n,t){Y(function(e){var r=!1,o=b(t,n,function(t){r||(r=!0,n!==t?O(e,t):C(e,t))},function(n){r||(r=!0,S(e,n))},"Settle: "+(e._label||" unknown promise"));!r&&o&&(r=!0,S(e,o))},e)}function E(e,n){n._state===ae?C(e,n._result):n._state===ue?S(e,n._result):k(n,void 0,function(n){return O(e,n)},function(n){return S(e,n)})}function A(e,n,t){n.constructor===e.constructor&&t===v&&n.constructor.resolve===h?E(e,n):t===ce?(S(e,ce.error),ce.error=null):void 0===t?C(e,n):r(t)?_(e,n,t):C(e,n)}function O(n,t){n===t?S(n,g()):e(t)?A(n,t,w(t)):C(n,t)}function x(e){e._onerror&&e._onerror(e._result),M(e)}function C(e,n){e._state===ie&&(e._result=n,e._state=ae,0!==e._subscribers.length&&Y(M,e))}function S(e,n){e._state===ie&&(e._state=ue,e._result=n,Y(x,e))}function k(e,n,t,r){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=n,o[i+ae]=t,o[i+ue]=r,0===i&&e._state&&Y(M,e)}function M(e){var n=e._subscribers,t=e._state;if(0!==n.length){for(var r=void 0,o=void 0,i=e._result,a=0;a<n.length;a+=3)r=n[a],o=n[a+t],r?j(t,r,o,i):o(i);e._subscribers.length=0}}function T(){this.error=null}function L(e,n){try{return e(n)}catch(t){return se.error=t,se}}function j(e,n,t,o){var i=r(t),a=void 0,u=void 0,c=void 0,s=void 0;if(i){if(a=L(t,o),a===se?(s=!0,u=a.error,a.error=null):c=!0,n===a)return void S(n,y())}else a=o,c=!0;n._state!==ie||(i&&c?O(n,a):s?S(n,u):e===ae?C(n,a):e===ue&&S(n,a))}function I(e,n){try{n(function(n){O(e,n)},function(n){S(e,n)})}catch(t){S(e,t)}}function D(){return fe++}function P(e){e[oe]=fe++,e._state=void 0,e._result=void 0,e._subscribers=[]}function N(e,n){this._instanceConstructor=e,this.promise=new e(m),this.promise[oe]||P(this.promise),X(n)?(this._input=n,this.length=n.length,this._remaining=n.length,this._result=new Array(this.length),0===this.length?C(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&C(this.promise,this._result))):S(this.promise,R())}function R(){return new Error("Array Methods must be provided an Array")}function U(e){return new N(this,e).promise}function F(e){var n=this;return new n(X(e)?function(t,r){for(var o=e.length,i=0;i<o;i++)n.resolve(e[i]).then(t,r)}:function(e,n){return n(new TypeError("You must pass an array to race."))})}function B(e){var n=this,t=new n(m);return S(t,e),t}function z(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function H(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function J(e){this[oe]=D(),this._result=this._state=void 0,this._subscribers=[],m!==e&&("function"!=typeof e&&z(),this instanceof J?I(this,e):H())}function V(){var e=void 0;if("undefined"!=typeof o)e=o;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(n){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;if(t){var r=null;try{r=Object.prototype.toString.call(t.resolve())}catch(n){}if("[object Promise]"===r&&!t.cast)return}e.Promise=J}var W=void 0;W=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var X=W,$=0,q=void 0,K=void 0,Y=function(e,n){te[$]=e,te[$+1]=n,$+=2,2===$&&(K?K(d):re())},Q="undefined"!=typeof window?window:void 0,Z=Q||{},G=Z.MutationObserver||Z.WebKitMutationObserver,ee="undefined"==typeof self&&"undefined"!=typeof n&&"[object process]"==={}.toString.call(n),ne="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,te=new Array(1e3),re=void 0;re=ee?u():G?s():ne?f():void 0===Q?p():l();var oe=Math.random().toString(36).substring(16),ie=void 0,ae=1,ue=2,ce=new T,se=new T,fe=0;return N.prototype._enumerate=function(){for(var e=this.length,n=this._input,t=0;this._state===ie&&t<e;t++)this._eachEntry(n[t],t)},N.prototype._eachEntry=function(e,n){var t=this._instanceConstructor,r=t.resolve;if(r===h){var o=w(e);if(o===v&&e._state!==ie)this._settledAt(e._state,n,e._result);else if("function"!=typeof o)this._remaining--,this._result[n]=e;else if(t===J){var i=new t(m);A(i,e,o),this._willSettleAt(i,n)}else this._willSettleAt(new t(function(n){return n(e)}),n)}else this._willSettleAt(r(e),n)},N.prototype._settledAt=function(e,n,t){var r=this.promise;r._state===ie&&(this._remaining--,e===ue?S(r,t):this._result[n]=t),0===this._remaining&&C(r,this._result)},N.prototype._willSettleAt=function(e,n){var t=this;k(e,void 0,function(e){return t._settledAt(ae,n,e)},function(e){return t._settledAt(ue,n,e)})},J.all=U,J.race=F,J.resolve=h,J.reject=B,J._setScheduler=i,J._setAsap=a,J._asap=Y,J.prototype={constructor:J,then:v,"catch":function(e){return this.then(null,e)}},J.polyfill=V,J.Promise=J,J})}).call(n,t(5),t(3),function(){return this}())},5:function(e,n){function t(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(e){if(f===setTimeout)return setTimeout(e,0);if((f===t||!f)&&setTimeout)return f=setTimeout,setTimeout(e,0);try{return f(e,0)}catch(n){try{return f.call(null,e,0)}catch(n){return f.call(this,e,0)}}}function i(e){if(l===clearTimeout)return clearTimeout(e);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(e);try{return l(e)}catch(n){try{return l.call(null,e)}catch(n){return l.call(this,e)}}}function a(){h&&p&&(h=!1,p.length?v=p.concat(v):m=-1,v.length&&u())}function u(){if(!h){var e=o(a);h=!0;for(var n=v.length;n;){for(p=v,v=[];++m<n;)p&&p[m].run();m=-1,n=v.length}p=null,h=!1,i(e)}}function c(e,n){this.fun=e,this.array=n}function s(){}var f,l,d=e.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:t}catch(e){f=t}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(e){l=r}}();var p,v=[],h=!1,m=-1;d.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)n[t-1]=arguments[t];v.push(new c(e,n)),1!==v.length||h||o(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},d.title="browser",d.browser=!0,d.env={},d.argv=[],d.version="",d.versions={},d.on=s,d.addListener=s,d.once=s,d.off=s,d.removeListener=s,d.removeAllListeners=s,d.emit=s,d.prependListener=s,d.prependOnceListener=s,d.listeners=function(e){return[]},d.binding=function(e){throw new Error("process.binding is not supported")},d.cwd=function(){return"/"},d.chdir=function(e){throw new Error("process.chdir is not supported")},d.umask=function(){return 0}},6:function(e,n){},12:function(e,n){"use strict";e.exports={defaultClosedLength:18e5,pageViewsLog:{checkInterval:1e3},exitIntent:{sensitivity:1},storageKeys:{precheckoutShown:"precheckoutShown:",viewedPagesCount:"viewedPagesCount:",pageViewsLog:"pageViewsLog",sessionId:"sessionId",utmTags:"utmTags",utmTagsHypothetical:"utmTagsHypothetical",pageViewsHolds:"pageViewsHolds:",precheckoutShownLog:"precheckoutShownLog",abTests:"abTests",cart:"cart",precheckoutClosed:"precheckoutClosed",itemsViewLog:"itemsViewLog",categoryViewLog:"categoryViewLog"}}},13:function(e,n){"use strict";var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};(function(e,n,r,o,i,a){function u(e,n){var r=t(e[n]);return"function"==r||!("object"!=r||!e[n])||"unknown"==r}function c(){if(!R){R=!0;for(var e=0;e<U.length;e++)U[e]();U.length=0}}function s(e,n){return R?void e.call(n):void U.push(function(){e.call(n)})}function f(n){return I&&(e.easyXDM=I),L=n,L&&(D="easyXDM_"+L.replace(".","_")+"_"),j}function l(e){var n=e.toLowerCase().match(k),t=n[2],r=n[3],o=n[4]||"";return("http:"==t&&":80"==o||"https:"==t&&":443"==o)&&(o=""),t+"//"+r+o}function d(e){if(e=e.replace(T,"$1/"),!e.match(/^(http||https):\/\//)){var n="/"===e.substring(0,1)?"":r.pathname;"/"!==n.substring(n.length-1)&&(n=n.substring(0,n.lastIndexOf("/")+1)),e=r.protocol+"//"+r.host+n+e}for(;M.test(e);)e=e.replace(M,"");return e}function p(e,n){var t="",r=e.indexOf("#");r!==-1&&(t=e.substring(r),e=e.substring(0,r));var o=[];for(var i in n)n.hasOwnProperty(i)&&o.push(i+"="+a(n[i]));return e+(P?"#":e.indexOf("?")==-1?"?":"&")+o.join("&")+t}function v(e){return"undefined"==typeof e}function h(e,n,r){var o;for(var i in n)n.hasOwnProperty(i)&&(i in e?(o=n[i],"object"===("undefined"==typeof o?"undefined":t(o))?h(e[i],o,r):r||(e[i]=n[i])):e[i]=n[i]);return e}function m(){var e=n.body.appendChild(n.createElement("form")),t=e.appendChild(n.createElement("input"));t.name=D+"TEST"+C,E=t!==e.elements[t.name],n.body.removeChild(e)}function g(e){v(E)&&m();var r;E?r=n.createElement('<iframe name="'+e.props.name+'"/>'):(r=n.createElement("IFRAME"),r.name=e.props.name),r.id=r.name=e.props.name,delete e.props.name,"string"==typeof e.container&&(e.container=n.getElementById(e.container)),e.container||(h(r.style,{position:"absolute",top:"-2000px",left:"0px"}),e.container=n.body);var o=e.props.src;if(e.props.src="javascript:false",h(r,e.props),r.border=r.frameBorder=0,r.allowTransparency=!0,e.container.appendChild(r),e.onLoad&&A(r,"load",e.onLoad),e.usePost){var i,a=e.container.appendChild(n.createElement("form"));if(a.target=r.name,a.action=o,a.method="POST","object"===t(e.usePost))for(var u in e.usePost)e.usePost.hasOwnProperty(u)&&(E?i=n.createElement('<input name="'+u+'"/>'):(i=n.createElement("INPUT"),i.name=u),i.value=e.usePost[u],a.appendChild(i));a.submit(),a.parentNode.removeChild(a)}else r.src=o;return e.props.src=o,r}function y(e,n){"string"==typeof e&&(e=[e]);for(var t,r=e.length;r--;)if(t=e[r],t=new RegExp("^"==t.substr(0,1)?t:"^"+t.replace(/(\*)/g,".$1").replace(/\?/g,".")+"$"),t.test(n))return!0;return!1}function w(t){var r,o=t.protocol;if(t.isHost=t.isHost||v(B.xdm_p),P=t.hash||!1,t.props||(t.props={}),t.isHost)t.remote=d(t.remote),t.channel=t.channel||"default"+C++,t.secret=Math.random().toString(16).substring(2),v(o)&&(u(e,"postMessage")||u(n,"postMessage"))&&(o="1");else if(t.channel=B.xdm_c.replace(/["'<>\\]/g,""),t.secret=B.xdm_s,t.remote=B.xdm_e.replace(/["'<>\\]/g,""),o=B.xdm_p,t.acl&&!y(t.acl,t.remote))throw new Error("Access denied for "+t.remote);return t.protocol=o,r=[new j.stack.PostMessageTransport(t)],r.push(new j.stack.QueueBehavior({lazy:t.lazy,remove:!0})),r}function b(e){for(var n,t={incoming:function(e,n){this.up.incoming(e,n)},outgoing:function(e,n){this.down.outgoing(e,n)},callback:function(e){this.up.callback(e)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}},r=0,o=e.length;r<o;r++)n=e[r],h(n,t,!0),0!==r&&(n.down=e[r-1]),r!==o-1&&(n.up=e[r+1]);return n}function _(e){e.up.down=e.down,e.down.up=e.up,e.up=e.down=null}var E,A,O,x=this,C=Math.floor(1e4*Math.random()),S=Function.prototype,k=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,M=/[\-\w]+\/\.\.\//,T=/([^:])\/\//g,L="",j={},I=e.easyXDM,D="easyXDM_",P=!1;A=function(e,n,t){e.addEventListener(n,t,!1)},O=function(e,n,t){e.removeEventListener(n,t,!1)};var N,R=!1,U=[];if("readyState"in n?(N=n.readyState,R="complete"==N||~navigator.userAgent.indexOf("AppleWebKit/")&&("loaded"==N||"interactive"==N)):R=!!n.body,!R){if(u(e,"addEventListener"))A(n,"DOMContentLoaded",c);else if(A(n,"readystatechange",function(){"complete"==n.readyState&&c()}),n.documentElement.doScroll&&e===top){var F=function H(){if(!R){try{n.documentElement.doScroll("left")}catch(e){return void o(H,1)}c()}};F()}A(e,"load",c)}var B=function(e){e=e.substring(1).split("&");for(var n,t={},r=e.length;r--;)n=e[r].split("="),t[n[0]]=i(n[1]);return t}(/xdm_e=/.test(r.search)?r.search:r.hash),z=function(){var e={a:[1,2,3]},n='{"a":[1,2,3]}';return"undefined"!=typeof JSON&&"function"==typeof JSON.stringify&&JSON.stringify(e).replace(/\s/g,"")===n?JSON:void console.error("NO JSON PRESENT")};h(j,{version:"2.4.18.25",query:B,stack:{},apply:h,getJSONObject:z,whenReady:s,noConflict:f}),j.DomHelper={on:A,un:O},function(){var e={};j.Fn={set:function(n,t){e[n]=t},get:function(n,t){var r=e[n];return t&&delete e[n],r}}}(),j.Rpc=function(e,n){if(n.local)for(var t in n.local)if(n.local.hasOwnProperty(t)){var r=n.local[t];"function"==typeof r&&(n.local[t]={method:r})}var o=b(w(e).concat([new j.stack.RpcBehavior(this,n),{callback:function(n){e.onReady&&e.onReady(n)}}]));this.origin=l(e.remote),this.destroy=function(){o.destroy()},o.init()},j.stack.PostMessageTransport=function(n){function t(e){if(e.origin)return l(e.origin);if(e.uri)return l(e.uri);if(e.domain)return r.protocol+"//"+e.domain;throw"Unable to retrieve the origin of the event"}function i(e){var r=t(e);r==f&&e.data.substring(0,n.channel.length+1)==n.channel+" "&&a.up.incoming(e.data.substring(n.channel.length+1),r)}var a,u,c,f;return a={outgoing:function(e,t,r){c.postMessage(n.channel+" "+e,t||f),r&&r()},destroy:function(){O(e,"message",i),u&&(c=null,u.parentNode.removeChild(u),u=null)},onDOMReady:function(){if(f=l(n.remote),n.isHost){var t=function s(t){t.data==n.channel+"-ready"&&(c="postMessage"in u.contentWindow?u.contentWindow:u.contentWindow.document,O(e,"message",s),A(e,"message",i),o(function(){a.up.callback(!0)},0))};A(e,"message",t),h(n.props,{src:p(n.remote,{xdm_e:l(r.href),xdm_c:n.channel,xdm_p:1}),name:D+n.channel+"_provider"}),u=g(n)}else A(e,"message",i),c="postMessage"in e.parent?e.parent:e.parent.document,c.postMessage(n.channel+"-ready",f),o(function(){a.up.callback(!0)},0)},init:function(){s(a.onDOMReady,a)}}},j.stack.QueueBehavior=function(e){function n(){if(e.remove&&0===u.length)return void _(t);if(!c&&0!==u.length&&!r){c=!0;var i=u.shift();t.down.outgoing(i.data,i.origin,function(e){c=!1,i.callback&&o(function(){i.callback(e)},0),n()})}}var t,r,u=[],c=!0,s="",f=0,l=!1,d=!1;return t={init:function(){v(e)&&(e={}),e.maxLength&&(f=e.maxLength,d=!0),e.lazy?l=!0:t.down.init()},callback:function(e){c=!1;var r=t.up;n(),r.callback(e)},incoming:function(n,r){if(d){var o=n.indexOf("_"),a=parseInt(n.substring(0,o),10);s+=n.substring(o+1),0===a&&(e.encode&&(s=i(s)),t.up.incoming(s,r),s="")}else t.up.incoming(n,r)},outgoing:function(r,o,i){e.encode&&(r=a(r));var c,s=[];if(d){for(;0!==r.length;)c=r.substring(0,f),r=r.substring(c.length),s.push(c);for(;c=s.shift();)u.push({data:s.length+"_"+c,origin:o,callback:0===s.length?i:null})}else u.push({data:r,origin:o,callback:i});l?t.down.init():n()},destroy:function(){r=!0,t.down.destroy()}}},j.stack.RpcBehavior=function(e,n){function t(e){e.jsonrpc="2.0",i.down.outgoing(a.stringify(e))}function r(e,n){var r=Array.prototype.slice;return function(){var o,i=arguments.length,a={method:n};i>0&&"function"==typeof arguments[i-1]?(i>1&&"function"==typeof arguments[i-2]?(o={success:arguments[i-2],error:arguments[i-1]},a.params=r.call(arguments,0,i-2)):(o={success:arguments[i-1]},a.params=r.call(arguments,0,i-1)),c[""+ ++u]=o,a.id=u):a.params=r.call(arguments,0),e.namedParams&&1===a.params.length&&(a.params=a.params[0]),t(a)}}function o(e,n,r,o,i){if(!r)return void(n&&t({id:n,error:{code:-32601,message:"Procedure not found."}}));var a,u;n?(a=function(e){a=S,t({id:n,result:e})},u=function(e,r){u=S;var o={id:n,error:{code:-32099,message:e}};r&&(o.error.data=r),t(o)}):a=u=S,Array.isArray(o)||(o=[o]);try{var c=r.method.apply(r.scope,o.concat([a,u,i]));v(c)||a(c)}catch(s){u(s.message)}}var i,a=n.serializer||z(),u=0,c={};return i={incoming:function(e,r){var i=a.parse(e);if(i.method)n.handle?n.handle(i,t):o(i.method,i.id,n.local[i.method],i.params,r);else{var u=c[i.id];i.error?u.error&&u.error(i.error):u.success&&u.success(i.result),delete c[i.id]}},init:function(){if(n.remote)for(var t in n.remote)n.remote.hasOwnProperty(t)&&(e[t]=r(n.remote[t],t));i.down.init()},destroy:function(){for(var t in n.remote)n.remote.hasOwnProperty(t)&&e.hasOwnProperty(t)&&delete e[t];i.down.destroy()}}},x.easyXDM=j}).call(e.exports,window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent)},14:function(e,n,t){"use strict";function r(e){var n="["+e+"]";return{info:function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];if(s<a||f[e]<a){var i;(i=d).info.apply(i,[n].concat(r))}},warn:function(){for(var t=arguments.length,r=Array(t),o=0;o<t;o++)r[o]=arguments[o];if(s<u||f[e]<u){var i;(i=d).warn.apply(i,[n].concat(r))}},error:function(t){for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];if(o.apply(void 0,[t].concat(i)),s<c||f[e]<c){var u;(u=d).error.apply(u,[t,n].concat(i))}},level:function(n){f[e]=n}}}function o(e){for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];for(var o=0,i=l.length;o<i;o++)l[o].apply(l,[e].concat(t))}var i=0,a=1,u=2,c=3,s=c,f={},l=[],d=window.console;d||(d={info:function(){},warn:function(){},error:function(){}}),r.info=function(){if(s<a){var e;(e=d).info.apply(e,arguments)}},r.warn=function(){if(s<u){var e;(e=d).warn.apply(e,arguments)}},r.error=function(e){for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];if(o.apply(void 0,[e].concat(t)),s<c){var i;(i=d).error.apply(i,[e].concat(t))}},r.ALL=i,r.WARN=a,r.ERROR=u,r.SILENT=c,r.level=function(e){s=e},r.onError=function(e){l.push(e)},e.exports=r},15:function(e,n){"use strict";n.__esModule=!0,n["default"]=function(e){var n=!1,t=function r(){n||(n=!0,document.removeEventListener("DOMContentLoaded",r,!1),window.removeEventListener("load",r,!1),e())};"complete"===document.readyState||"interactive"===document.readyState?setTimeout(t,1):(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1))}},17:function(e,n,t){(function(e){"use strict";function t(){if(j)return j;for(var e=!0,n=window,t=0;e;){try{n.opener!==n.parent&&n.parent!==n.self&&n.parent.document.body?n=n.parent:e=!1}catch(r){e=!1}t>10&&(e=!1),t++}return j=n,n}function r(){var e=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),n=screen.width,t=window.innerWidth;return e&&t>0||(n=t),e&&t>=720&&(n=t),e&&n<=670}function o(){var e;return e=navigator.userAgent,e.indexOf("Mozilla/5.0")>-1&&e.indexOf("Android ")>-1&&e.indexOf("AppleWebKit")>-1&&e.indexOf("Chrome")===-1}function i(e){return"[object Object]"===Object.prototype.toString.call(e)}function a(){var e,n,t,r,o,i,a,u;for(t={},a=(window.location.search||"").replace(/^\?/,"").split(/&amp;|&/),o=0,i=a.length;o<i;o++){n=a[o],u=n.split("="),e=u[0],r=u[1];try{t[e]=decodeURIComponent(r||"")}catch(c){}}return t}function u(){return Object.hasOwnProperty.call(window,"ActiveXObject")&&!window.ActiveXObject}function c(e){return"[object Number]"==={}.toString.call(e)}function s(e,n){return Object.keys(e).forEach(function(t){n(e[t],t,e)}),e}function f(e){if(void 0===e||null===e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),t=1;t<arguments.length;t++){var r=arguments[t];if(void 0!==r&&null!==r)for(var o=Object.keys(Object(r)),i=0,a=o.length;i<a;i++){var u=o[i],c=Object.getOwnPropertyDescriptor(r,u);void 0!==c&&c.enumerable&&(n[u]=r[u])}}return n}function l(e){return"[object Array]"==={}.toString.call(e)}function d(e){for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return t.forEach(function(n){null!=n&&Object.keys(n).forEach(function(t){if(null!=n){var r=n[t];"undefined"!=typeof r&&(i(r)?i(e[t])?d(e[t],r):e[t]=d({},r):e[t]=r)}})}),e}function p(e,n){for(var t=0,r=e.length;t<r;t++)if(n(e[t]))return e[t];return null}function v(e,n){for(var t=e.length-1;t>=0;t--)if(n(e[t]))return e[t];return null}function h(e,n,t){var r,o,i,a=null,u=0,c=t||{leading:!0,trailing:!0},s=function(){u=c.leading===!1?0:Date.now(),a=null,i=e.apply(r,o||[]),a||(r=o=null)};return function(){var t=Date.now();u||c.leading!==!1||(u=t);var f=n-(t-u);return r=this,o=arguments,f<=0||f>n?(a&&(clearTimeout(a),a=null),u=t,i=e.apply(r,o),a||(r=o=null)):a||c.trailing===!1||(a=setTimeout(s,f)),i}}function m(e,n,t){var r;return function(){var o=this,i=arguments,a=function(){r=null,t||e.apply(o,i)},u=t&&!r;clearTimeout(r),r=setTimeout(a,n),u&&e.apply(o,i)}}function g(e,n){return e.indexOf(n)>-1}function y(e){for(var n={},t=arguments.length,r=Array(t>1?t-1:0),o=1;o<t;o++)r[o-1]=arguments[o];return r.forEach(function(t){n[t]=e[t]}),n}function w(e){return Object.keys(e).map(function(n){return[n,e[n]]})}function b(e,n){if(!e)throw new Error("Assert error: "+n)}function _(){var e=Object.prototype.toString,n=function(n){return"function"==typeof n||"[object Function]"===e.call(n)},t=function(e){var n=Number(e);return isNaN(n)?0:0!==n&&D(n)?(n>0?1:-1)*Math.floor(Math.abs(n)):n},r=Math.pow(2,53)-1,o=function(e){var n=t(e);return Math.min(Math.max(n,0),r)};return function(e){var t=this,r=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var i,a=arguments.length>1?arguments[1]:void 0;if("undefined"!=typeof a){if(!n(a))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(i=arguments[2])}for(var u,c=o(r.length),s=n(t)?Object(new t(c)):new Array(c),f=0;f<c;)u=r[f],a?s[f]="undefined"==typeof i?a(u,f):a.call(i,u,f):s[f]=u,f+=1;return s.length=c,s}}function E(e,n){return e.reduce(function(e,t){return e[n(t)?0:1].push(t),e},[[],[]])}function A(e,n,t){for(var r=n.split("."),o=0,i=r.length;null!=e&&o<i;)e=e[r[o++]];return o&&o==i&&null!=e?e:t}function O(e){return"number"==typeof e&&window.isFinite(e)}function x(e){var n=[];return e.forEach(function(e){I(e)?n=n.concat(x(e)):n.push(e)}),n}function C(e){return e.filter(function(n,t){return e.indexOf(n)===t})}function S(e){return e.filter(Boolean)}function k(e){for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return t.reduce(function(e,n){return e.filter(function(e){return n.indexOf(e)>-1})},e)}function M(e,n,t){var r=function o(r){t(r),e.removeEventListener(n,o)};e.addEventListener(n,r)}function T(n,t){return new e(function(e){return setTimeout(function(){return e(t)})},n)}function L(e){for(var n=null==e?0:e.length,t={},r=-1;++r<n;){var o=e[r];t[o[0]]=o[1]}return t}n.__esModule=!0,n.getTopWindow=t,n.isMobile=r,n.isAndroidBrowser=o,n.isObject=i,n.getLocationParams=a,n.isIE11=u,n.isNumber=c,n.forOwn=s,n.deepMerge=d,n.find=p,n.findLast=v,n.throttle=h,n.debounce=m,n.includes=g,n.pick=y,n.pairs=w,n.assert=b,n.partition=E,n.get=A,n.flattenDeep=x,n.uniq=C,n.compact=S,n.intersection=k,n.once=M,n.timeout=T,n.fromPairs=L;var j=void 0,I=(n.assign=Object.assign||f,n.isArray="function"==typeof Array.isArray?Array.isArray:l),D=(n.arrayFrom=Array.from?Array.from:_(),n.isFinite=Number.isFinite||O)}).call(n,t(3))},25:function(e,n,t){var r,o;!function(i){var a=!1;if(r=i,o="function"==typeof r?r.call(n,t,n,e):r,!(void 0!==o&&(e.exports=o)),a=!0,e.exports=i(),a=!0,!a){var u=window.Cookies,c=window.Cookies=i();c.noConflict=function(){return window.Cookies=u,c}}}(function(){function e(){for(var e=0,n={};e<arguments.length;e++){var t=arguments[e];for(var r in t)n[r]=t[r]}return n}function n(t){function r(n,o,i){var a;if("undefined"!=typeof document){if(arguments.length>1){if(i=e({path:"/"},r.defaults,i),"number"==typeof i.expires){var u=new Date;u.setMilliseconds(u.getMilliseconds()+864e5*i.expires),i.expires=u}try{a=JSON.stringify(o),/^[\{\[]/.test(a)&&(o=a)}catch(c){}return o=t.write?t.write(o,n):encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),n=encodeURIComponent(String(n)),n=n.replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent),n=n.replace(/[\(\)]/g,escape),document.cookie=[n,"=",o,i.expires?"; expires="+i.expires.toUTCString():"",i.path?"; path="+i.path:"",i.domain?"; domain="+i.domain:"",i.secure?"; secure":""].join("")}n||(a={});for(var s=document.cookie?document.cookie.split("; "):[],f=/(%[0-9A-Z]{2})+/g,l=0;l<s.length;l++){var d=s[l].split("="),p=d.slice(1).join("=");'"'===p.charAt(0)&&(p=p.slice(1,-1));try{var v=d[0].replace(f,decodeURIComponent);if(p=t.read?t.read(p,v):t(p,v)||p.replace(f,decodeURIComponent),this.json)try{p=JSON.parse(p)}catch(c){}if(n===v){a=p;break}n||(a[v]=p)}catch(c){}}return a}}return r.set=r,r.get=function(e){return r.call(r,e)},r.getJSON=function(){return r.apply({json:!0},[].slice.call(arguments))},r.defaults={},r.remove=function(n,t){r(n,"",e(t,{expires:-1}))},r.withConverter=n,r}return n(function(){})})},27:function(e,n,t){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){for(var n=arguments.length,t=Array(n),r=0;r<n;r++)t[r]=arguments[r];var o=t.map(function(e){return i.apply(void 0,e)}),c=function(e){return(0,u.find)(o,function(n){return n.factory===e})};o.forEach(function(e){e.edges=(0,u.compact)(e.params.map(c)),e._edges=a(e.edges)});var s=i(function(){return e.resolve("main node")}),d=function(e){return o.every(function(n){return n._edges.indexOf(e)===-1})},p=[],v=o.filter(function(e){return d(e)});for(s.edges=a(v);v.length;){var h=v.pop();p.push(h);for(var m=h._edges.length;m--;){var g=h._edges[m];h._edges.pop(),d(g)&&v.push(g)}}var y=(0,u.find)(o,function(e){return e._edges&&e._edges.length>0});if(y)return e.reject(new Error("Cycles found"));var w=[],b=function _(n){var t=n.factory,r=n.params,o=e.resolve(null);n.edges.forEach(function(e){o=o.then(function(){return _(e)})});var i=void 0;return o.then(function(){if(null!=n.instance)return n.instance;var e=r.map(function(e){var n=c(e);return null!=n&&null!=n.instance?n.instance:e});return i=setTimeout(function(){f.error(new Error("Node init timeout"),{factory:t.toString().substring(0,100)})},6e4),t.apply(void 0,e)}).then(function(e){i&&clearTimeout(i),n.instance=e,w.push(e)})};return b(s).then(function(){var n=function(e){var n=c(e);return null==n?null:n.instance};return n[l]=function(){return w.reduce(function(e,n){return e.then(function(){return n.destroy?n.destroy():null})},e.resolve())},n})}function i(e){for(var n=arguments.length,t=Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];return{factory:e,params:t,edges:[],_edges:[],instance:null}}function a(e){return e.map(function(e){return e})}n.__esModule=!0,n.destroy=void 0,n["default"]=o;var u=t(17),c=t(14),s=r(c),f=(0,s["default"])("system"),l=n.destroy="destroy"}).call(n,t(3))},51:function(e,n){"use strict";function t(e,n){return"undefined"!=typeof e&&null!==e?n(e):void 0}n.__esModule=!0;var r=30,o=new Date/1e3-2678400,i=50,a=new Date-26784e5,u=30,c=function(e){return function(n){var t=void 0,r=n.slice().reverse();for(t=0;t<r.length;t++){var o=r[t];if(e(o,t))break}return r.slice(0,t).reverse()}};n["default"]={reducePageViewsLog:c(function(e,n){return n>r||e.timeIntervals[e.timeIntervals.length-1].end<o}),reducePrecheckoutShownLog:c(function(e,n){return n>i||e.date<a}),reduceSessionDaysLog:function(e){return e.slice(-u)},reduceItemsViewLog:function(e,n){var r=t(e,function(e){return e.length})?e.slice():[],o=r.length&&r[r.length-1].sessionId;if(n&&o){for(var i=-1,a=0;a<r.length;a++){var u=r[a];if(u.sessionId===n){i=a;break}}i>0&&(r=r.slice(i-1))}else r=o?[]:r.slice(-1);return r}}},59:function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var n=e.ids,t=e.closedIds,r=e.shownIds,o=e.inactivity,c=e.shownLog,s=e.sessionId,f=e.exclusions,p=function(e){return(0,u.includes)(t,e)},v=(0,u.partition)(n,function(e){return p(e)}),h=v[0],m=v[1];h.forEach(function(e){d.info("Campaign "+e+" wants to show, but is closed.")});var g=(0,u.partition)(m,function(n){var t=o[String(n)];if(!t)return!0;var r=t.count,a=t.period;if(null==r||null==a||!(0,u.isNumber)(r)||!(0,u.isNumber)(a))return!0;var c=i(n,1e3*a,e.hitLog);return r>c});m=g[0],h=g[1],h.forEach(function(e){d.info("Campaign "+e+" wants to show, but is in inactivity state.")});var y=a(c,s),w=(0,l["default"])(f,m,r,y,c);return m=w[0],h=w[1],h.forEach(function(e){d.info("Campaign "+e+" wants to show, but stopped by constraints.")}),m}function i(e,n,t){var r=(new Date).getTime()-n,o=t[String(e)]||{};return Object.keys(o).filter(function(e){return r<Number(e)}).reduce(function(e,n){return e+o[n]},0)}function a(e,n){var t=e.filter(function(e){return e.session===n}).map(function(e){return e.campaign});return(0,u.uniq)(t)}n.__esModule=!0,n["default"]=o;var u=t(17),c=t(14),s=r(c),f=t(60),l=r(f),d=(0,s["default"])("approveCampaigns")},60:function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e,n,t,r,o){var u=e.map(function(e){return i(e,n,t,r,o)}),s=a(u),f=c(s,n),l=(0,d.partition)(f,function(e){return e.approve}),p=l[0],v=l[1],h=function(e){return e.campaign};return[p.map(h),v.map(h)]}function i(e,n,t,r,o){var i=m(e.campaigns),a=n.map(function(e){return 1+i.indexOf(e)}).filter(function(e){return e}),c=Math.min.apply(Math,a);c=(0,d.isFinite)(c)?c-1:0;var s=void 0;if(null!=e.timeConstraint){var f=+new Date-1e3*e.timeConstraint*60*60*24,p=l(o);s=[],Object.keys(p).forEach(function(e){var n=p[e];n>f&&(0,d.includes)(i,+e)&&s.push(+e)})}else e.sessionConstraint?s=(0,d.intersection)(r,i):e.pageConstraint&&(s=(0,d.intersection)(t,i));return n.map(function(n){var t=u(e,n,s),r=i.indexOf(n)-c;return t?{campaign:n,approve:!0,priority:r}:{campaign:n,
approve:!1,priority:0}})}function a(e){var n=(e&&e[0]||[]).reduce(function(n,t,r){var o=t.campaign;return n[o]=e.every(function(e){return e[r].approve}),n},{});return e.map(function(e){return e.map(function(e){var t=e.campaign,r=e.priority;return{campaign:t,approve:n[t],priority:r}})})}function u(e,n,t){var r=0===t.length,o=!(0,d.includes)(e.campaigns,String(n)),i=!!t.length&&n===t[0],a=e.sessionConstraint||e.timeConstraint?r||o||i:r||o;return o||a||h.warn({cid:n,campainsFromConstraintWasShown:t.join(","),isAlreadyShown:i,exclusion:e}),a}function c(e,n){var t=[];e.forEach(function(e){null!=e&&e.forEach(function(e){e.approve||t.push(e.campaign)})});var r=s(f(e)),o=n.map(function(e){var n=void 0;n=(0,d.includes)(t,e)?-1:r[e]||1;var o=n>0;return{approve:o,campaign:e,priority:0}});return o}function s(e){var n={};return e.forEach(function(e){var t=-1;e.forEach(function(e,r){t<0&&n[e]>0&&(t=r)}),t<0&&e.forEach(function(e,r){t<0&&n[e]!==-1&&(t=r)}),t>=0&&(n[e[t]]=1),e.forEach(function(e,r){r!==t&&(n[e]=-1)})}),n}function f(e){return e.map(function(e){var n=[];return null!=e&&e.sort(function(e,n){return e.priority-n.priority}).forEach(function(e){e.approve&&e.priority>=0&&n.push(e.campaign)}),n})}function l(e){return e.reduce(function(e,n){return e[n.campaign]=n.date,e},{})}n.__esModule=!0,n["default"]=function(e,n,t,r,i){var a=o(e,m(n),m(t),m(r),i);return[g(a[0]),g(a[1])]};var d=t(17),p=t(14),v=r(p),h=(0,v["default"])("splitByExclusions"),m=function(e){return(e||[]).map(function(e){return+e})},g=function(e){return(e||[]).map(function(e){return String(e)})}},68:function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],t=e.defaultExpire||2592e6,r=function(){return null},o=function(e){return"flockapi:"+n+":"+e};a["default"].forEach(function(e,n){var t=null!=n?n.expireAt:null;(t&&t<Number(new Date)||null===t)&&a["default"].remove(e)});var i=function(e){a["default"].remove(o(e))},u=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r;a["default"].remove(e),t(null)},c=function(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=r.expireAt?Number(r.expireAt):Number(new Date)+t;a["default"].set(o(e),{value:n,expireAt:i,updateTs:Number(new Date)})},f=function(e,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},arguments.length>4&&void 0!==arguments[4]?arguments[4]:r),u=o.expireAt?Number(o.expireAt):Number(new Date)+t;try{a["default"].set(e,{value:n,expireAt:u,updateTs:Number(new Date)}),i(null)}catch(c){var f=window.navigator.userAgent;if(f.indexOf("iPad")===-1&&f.indexOf("iPhone")===-1){var l={};a["default"].forEach(function(e,n){l[e]=n?n.length:0}),s.warn("Can't set "+e+" to "+n+" due to error")}i(c)}},l=function(e){var n=a["default"].get(o(e)),t=void 0;return n?n&&!n.value?t=n:"number"!=typeof n.expireAt?t=n.value:n.expireAt>Number(new Date)?t=n.value:(i(e),t=null):t=null,t},d=function(e,n){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r,o=a["default"].get(e),i=void 0;return o?o&&!o.value?i=o:"number"!=typeof o.expireAt?i=o.value:o.expireAt>Number(new Date)?i=o.value:(u(e),i=null):i=null,(i||null===i)&&t(null,i),i},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;a["default"].clear(),e()};return{get:l,set:c,unset:i,getItem:d,setItem:f,unsetItem:u,clear:p}}n.__esModule=!0,n["default"]=o;var i=t(69),a=r(i),u=t(14),c=r(u),s=(0,c["default"])("provider-storage")},69:function(e,n,t){var r,o,i;(function(t){"use strict";!function(t,a){o=[],r=a,i="function"==typeof r?r.apply(n,o):r,!(void 0!==i&&(e.exports=i))}(this,function(){function e(){try{return a in o&&o[a]}catch(e){return!1}}var n,r={},o="undefined"!=typeof window?window:t,i=o.document,a="localStorage",u="script";if(r.disabled=!1,r.version="1.3.20",r.set=function(e,n){},r.get=function(e,n){},r.has=function(e){return void 0!==r.get(e)},r.remove=function(e){},r.clear=function(){},r.transact=function(e,n,t){null==t&&(t=n,n=null),null==n&&(n={});var o=r.get(e,n);t(o),r.set(e,o)},r.getAll=function(){},r.forEach=function(){},r.serialize=function(e){return JSON.stringify(e)},r.deserialize=function(e){if("string"==typeof e)try{return JSON.parse(e)}catch(n){return e||void 0}},e())n=o[a],r.set=function(e,t){return void 0===t?r.remove(e):(n.setItem(e,r.serialize(t)),t)},r.get=function(e,t){var o=r.deserialize(n.getItem(e));return void 0===o?t:o},r.remove=function(e){n.removeItem(e)},r.clear=function(){n.clear()},r.getAll=function(){var e={};return r.forEach(function(n,t){e[n]=t}),e},r.forEach=function(e){for(var t=0;t<n.length;t++){var o=n.key(t);e(o,r.get(o))}};else if(i&&i.documentElement.addBehavior){var c,s;try{s=new ActiveXObject("htmlfile"),s.open(),s.write("<"+u+">document.w=window</"+u+'><iframe src="/favicon.ico"></iframe>'),s.close(),c=s.w.frames[0].document,n=c.createElement("div")}catch(f){n=i.createElement("div"),c=i.body}var l=function(e){return function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(n),c.appendChild(n),n.addBehavior("#default#userData"),n.load(a);var o=e.apply(r,t);return c.removeChild(n),o}},d=new RegExp("[!\"#$%&'()*+,/\\\\:;<=>?@[\\]^`{|}~]","g"),p=function(e){return e.replace(/^d/,"___$&").replace(d,"___")};r.set=l(function(e,n,t){return n=p(n),void 0===t?r.remove(n):(e.setAttribute(n,r.serialize(t)),e.save(a),t)}),r.get=l(function(e,n,t){n=p(n);var o=r.deserialize(e.getAttribute(n));return void 0===o?t:o}),r.remove=l(function(e,n){n=p(n),e.removeAttribute(n),e.save(a)}),r.clear=l(function(e){var n=e.XMLDocument.documentElement.attributes;e.load(a);for(var t=n.length-1;t>=0;t--)e.removeAttribute(n[t].name);e.save(a)}),r.getAll=function(e){var n={};return r.forEach(function(e,t){n[e]=t}),n},r.forEach=l(function(e,n){for(var t,o=e.XMLDocument.documentElement.attributes,i=0;t=o[i];++i)n(t.name,r.deserialize(e.getAttribute(t.name)))})}try{var v="__storejs__";r.set(v,v),r.get(v)!=v&&(r.disabled=!0),r.remove(v)}catch(f){r.disabled=!0}return r.enabled=!r.disabled,r})}).call(n,function(){return this}())},70:function(e,n,t){(function(e){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(n,t,r,o){if(!t)throw new Error("Storage not available");var a=function(e){var n=u["default"].get(p)||"";e(n)},c=function(e,n,r){if(!t[e.method])return void r("bad method: "+e.method);var o=i(n,r);switch(e.method){case"get":t.getItem(e.name,e.meta,o);break;case"set":t.setItem(e.name,e.value,e.params,e.meta,o);break;case"unset":t.unsetItem(e.name,e.meta,o);break;case"clear":t.clear(o);break;default:throw new Error("Wrong method "+e.method+". Should be on of [get,set,unset,clear]")}},l=function(e,t,r,o,i){i(n.getApprovedCampaigns(e,t,r,o))},v=function(e,t,r){n.saveClosedState(e,t),r()},h={updateStorage:c,getApprovedCampaigns:l,saveClosedState:v,getFlocktoryWebSessionId:a};return new e(function(e){var n=s["default"].defaultNs,t=o.location.search.match(/[?&]ns=([^&$]*)/);t&&t.length>=2&&(n=t[1]);var r={onReady:e,xdm:f.easyXDM.noConflict(n)};(0,d["default"])(function(){new f.easyXDM.Rpc(r,{local:h})})})}function i(e,n){return function(t,r){t&&n?n(t):e&&e(r)}}n.__esModule=!0,n["default"]=o;var a=t(25),u=r(a),c=t(12),s=r(c),f=t(13),l=t(15),d=r(l),p="__flocktory-web_session2"}).call(n,t(3))},71:function(e,n,t){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function o(e){var n=new Date(e);return n.setUTCHours(0),n.setUTCMinutes(0),n.setUTCSeconds(0),n.setUTCMilliseconds(0),n.getTime()}function i(e,n){var t=(0,s.deepMerge)({},e);return n.forEach(function(e){var n=o((new Date).getTime());t[e]=t[e]||{},t[e][n]=t[e][n]||0,t[e][n]++}),t}function a(e,n,t){var r="precheckoutShownLog",o=e.get(r);o=(0,s.isArray)(o)?o:[];var a=+new Date;n.forEach(function(e){o.push({date:a,campaign:e,session:t})}),o=d(o),e.set(r,o);var u="campaignHitLog",c=e.get(u)||{};e.set(u,i(c,n))}n.__esModule=!0,n["default"]=function(e){var n=function(n,t,r,o){if(!e)return[];var i=e.get("precheckoutClosed")||[],u=i.filter(function(e){return e.expireAt>+new Date}).map(function(e){return e.campaign}),c=e.get("campaignHitLog")||{},s=e.get("sessionId"),f=s?s.sessionId:"",d=e.get("precheckoutShownLog")||[],p=(0,l["default"])({ids:n,closedIds:u,shownIds:o,inactivity:r,hitLog:c,shownLog:d,sessionId:f,exclusions:t});return a(e,p,f),p},t=function(n,t){var r=Date.now()+t,o=e.get("precheckoutClosed")||[];o=o.filter(function(e){return e.campaign!==n}),o.push({campaign:n,expireAt:r}),e.set("precheckoutClosed",o)};return{getApprovedCampaigns:n,saveClosedState:t}};var u=t(51),c=r(u),s=t(17),f=t(59),l=r(f),d=c["default"].reducePrecheckoutShownLog}});
//# sourceMappingURL=provider.js.map</script>
</body></html>